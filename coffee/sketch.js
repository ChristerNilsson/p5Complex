// Generated by CoffeeScript 2.7.0
var Game, autolevel, g, ids, keyPressed, mousePressed, mouseReleased, released, setup, touchStarted, xdraw;

g = 0;

ids = {};

released = true;

Game = class Game {
  constructor(x1 = 0, y1 = 0, a1 = 0, s = 1, stack = []) {
    var h, w;
    this.x = x1;
    this.y = y1;
    this.a = a1;
    this.s = s;
    this.stack = stack;
    this.players = [];
    this.level = 1;
    w = width;
    h = height;
    this.mode = 0;
    this.bitmap = true;
    this.players.push(new Player([87, 65, 83, 68, 16], 30, 30, 60, 60));
    this.players.push(new Player([38, 37, 40, 39, 17], 90, 30, 60, 60));
    this.display = new Button(1, 1, 1, this, 0.2, 0, -24, 6, 12, "", "");
  }

  push() {
    this.stack.push([this.x, this.y, this.a, this.s]);
    return push();
  }

  pop() {
    [this.x, this.y, this.a, this.s] = this.stack.pop();
    return pop();
  }

  rotate(d) {
    rotate(radians(d));
    return this.a += d;
  }

  scale(ds) {
    scale(ds);
    return this.s *= ds;
  }

  translate(dx, dy) {
    var v;
    v = radians(this.a);
    this.x += this.s * dx * cos(v) - this.s * dy * sin(v);
    this.y += this.s * dy * cos(v) + this.s * dx * sin(v);
    return translate(dx, dy);
  }

  dump(txt) {
    return print(txt, this.x, this.y);
  }

  process() {
    this.mode = 1 - this.mode;
    if (this.mode === 0) {
      autolevel();
      return this.createProblem();
    }
  }

  result() {
    var k, len, player, ref;
    fill(127);
    rect(0, 0, width, height);
    if (this.players[0].stopp === 0) {
      this.players[0].color = color(127);
    } else if (this.players[0].score() < this.players[1].score() || this.players[1].stopp === 0) {
      this.players[0].color = color(0, 255, 0);
    } else {
      this.players[0].color = color(255, 0, 0);
    }
    if (this.players[1].stopp === 0) {
      this.players[1].color = color(127);
    } else if (this.players[1].score() < this.players[0].score() || this.players[0].stopp === 0) {
      this.players[1].color = color(0, 255, 0);
    } else {
      this.players[1].color = color(255, 0, 0);
    }
    ref = this.players;
    for (k = 0, len = ref.length; k < len; k++) {
      player = ref[k];
      player.result();
    }
    return this.solve_result();
  }

  solve_result() {
    var H, i, k, len, n, number, ref, results, x, y;
    fill(0);
    n = 20;
    H = height / n;
    textSize(H);
    ref = this.solution;
    results = [];
    for (i = k = 0, len = ref.length; k < len; i = ++k) {
      number = ref[i];
      x = int(i / n);
      y = int(i % n);
      results.push(text(number.toString(), x * 100, -8.5 * H + y * H));
    }
    return results;
  }

  createProblem() {
    var a, b, c1, c2, c3, d, item, j, k, l, len, len1, len2, lst, lst2, m, ms, player, ref, ref1, results, save, tree, x, y;
    x = int(random(-5, 6));
    y = int(random(-5, 6));
    a = new Complex(x, y);
    lst = [a];
    tree = {};
    tree[a.toString()] = null;
    lst2 = [];
    c1 = new Complex(0, 1);
    c2 = new Complex(2, 0);
    c3 = new Complex(1, 0);
    save = function(item1, item2) {
      if (!(item2 in tree)) {
        lst2.push(item2);
        return tree[item2] = item1;
      }
    };
    ref = range(this.level);
    for (k = 0, len = ref.length; k < len; k++) {
      j = ref[k];
      lst2 = [];
      for (l = 0, len1 = lst.length; l < len1; l++) {
        item = lst[l];
        save(item, item.mul(c1));
        save(item, item.mul(c2));
        save(item, item.add(c3));
        save(item, item.mir());
      }
      lst = lst2;
    }
    b = this.selectTarget(lst);
    this.solution = this.path(b, tree);
    d = new Date();
    ms = int(d.getTime());
    ref1 = this.players;
    results = [];
    for (m = 0, len2 = ref1.length; m < len2; m++) {
      player = ref1[m];
      player.history = [a];
      player.target = b;
      player.count = 0;
      player.start = ms;
      player.stopp = 0;
      results.push(player.level = this.level);
    }
    return results;
  }

  path(b, tree) {
    if (b === null) {
      return [];
    }
    return this.path(tree[b], tree).concat([b]);
  }

  selectTarget(lst) { // within 21x21 window, if possible
    var bs, item;
    bs = (function() {
      var k, len, ref, ref1, results;
      results = [];
      for (k = 0, len = lst.length; k < len; k++) {
        item = lst[k];
        if ((-10 < (ref = item.x) && ref <= 10) && (-10 < (ref1 = item.y) && ref1 <= 10)) {
          results.push(item);
        }
      }
      return results;
    })();
    if (bs.length > 0) {
      return _.sample(bs);
    }
    return _.min(lst, function(item) {
      return dist(0, 0, item.x, item.y);
    });
  }

};

setup = function() {
  createCanvas(windowWidth, windowHeight);
  frameRate(15);
  textAlign(CENTER, CENTER);
  rectMode(CENTER);
  g = new Game();
  g.createProblem();
  return xdraw();
};

xdraw = function() {
  var i, k, len, player, ref;
  bg(0.5);
  g.push();
  g.translate(int(width / 2), int(height / 2)); // integers needed here or blurry grid lines
  ref = g.players;
  for (i = k = 0, len = ref.length; k < len; i = ++k) {
    player = ref[i];
    g.push();
    g.translate((2 * i - 1) * width / 4, 0);
    if (g.mode === 0) {
      player.draw();
    } else {
      player.result();
    }
    g.pop();
  }
  g.display.draw();
  return g.pop();
};

mouseReleased = function() { // to make Android work 
  released = true;
  return false;
};

touchStarted = function() {
  var k, len, player, ref;
  ref = g.players;
  for (k = 0, len = ref.length; k < len; k++) {
    player = ref[k];
    player.mousePressed();
  }
  g.display.mousePressed();
  return xdraw();
};

mousePressed = function() {
  var k, len, player, ref;
  if (!released) { // to make Android work
    return;
  }
  released = false;
  ref = g.players;
  for (k = 0, len = ref.length; k < len; k++) {
    player = ref[k];
    player.mousePressed();
  }
  g.display.mousePressed();
  return xdraw();
};

// touchStarted = -> 
// 	for touch in touches
// 		if touch.id not of ids 
// 			ids[touch.id] = touch
// 			for player in g.players
// 				player.touchStarted touch.x,touch.y
// 	ids = {} if touch.length == 0
// 	g.display.touchStarted touch.x,touch.y
// 	xdraw()

// mousePressed = ->
// 	player.mousePressed() for player in g.players
// 	g.display.mousePressed()
// 	xdraw()
keyPressed = function() {
  var k, len, player, ref;
  if (key === ' ') {
    g.display.keyPressed(key);
  } else if (key === 'B') {
    g.bitmap = !g.bitmap;
  } else {
    ref = g.players;
    for (k = 0, len = ref.length; k < len; k++) {
      player = ref[k];
      player.keyPressed(key);
    }
  }
  return xdraw();
};

autolevel = function() {
  var finished, k, len, perfect, player, ref;
  finished = 0;
  perfect = 0;
  ref = g.players;
  for (k = 0, len = ref.length; k < len; k++) {
    player = ref[k];
    if (player.finished()) {
      finished++;
    }
    if (player.perfect(g.level)) {
      perfect++;
    }
  }
  if (perfect > 0) {
    g.level++;
  } else {
    g.level--;
  }
  if (g.level === 0) {
    return g.level = 1;
  }
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6Ii4uXFwiLCJzb3VyY2VzIjpbImNvZmZlZVxcc2tldGNoLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsSUFBQSxJQUFBLEVBQUEsU0FBQSxFQUFBLENBQUEsRUFBQSxHQUFBLEVBQUEsVUFBQSxFQUFBLFlBQUEsRUFBQSxhQUFBLEVBQUEsUUFBQSxFQUFBLEtBQUEsRUFBQSxZQUFBLEVBQUE7O0FBQUEsQ0FBQSxHQUFJOztBQUNKLEdBQUEsR0FBTSxDQUFBOztBQUNOLFFBQUEsR0FBVzs7QUFFTCxPQUFOLE1BQUEsS0FBQTtFQUNDLFdBQWMsTUFBSSxDQUFKLE9BQVUsQ0FBVixPQUFnQixDQUFoQixNQUFzQixDQUF0QixVQUFnQyxFQUFoQyxDQUFBO0FBQ2YsUUFBQSxDQUFBLEVBQUE7SUFEZ0IsSUFBQyxDQUFBO0lBQUssSUFBQyxDQUFBO0lBQUssSUFBQyxDQUFBO0lBQUssSUFBQyxDQUFBO0lBQUssSUFBQyxDQUFBO0lBQ3ZDLElBQUMsQ0FBQSxPQUFELEdBQVc7SUFDWCxJQUFDLENBQUEsS0FBRCxHQUFTO0lBQ1QsQ0FBQSxHQUFJO0lBQ0osQ0FBQSxHQUFJO0lBQ0osSUFBQyxDQUFBLElBQUQsR0FBUTtJQUNSLElBQUMsQ0FBQSxNQUFELEdBQVU7SUFFVixJQUFDLENBQUEsT0FBTyxDQUFDLElBQVQsQ0FBYyxJQUFJLE1BQUosQ0FBVyxDQUFDLEVBQUQsRUFBSSxFQUFKLEVBQU8sRUFBUCxFQUFVLEVBQVYsRUFBYSxFQUFiLENBQVgsRUFBNEIsRUFBNUIsRUFBK0IsRUFBL0IsRUFBbUMsRUFBbkMsRUFBc0MsRUFBdEMsQ0FBZDtJQUNBLElBQUMsQ0FBQSxPQUFPLENBQUMsSUFBVCxDQUFjLElBQUksTUFBSixDQUFXLENBQUMsRUFBRCxFQUFJLEVBQUosRUFBTyxFQUFQLEVBQVUsRUFBVixFQUFhLEVBQWIsQ0FBWCxFQUE0QixFQUE1QixFQUErQixFQUEvQixFQUFtQyxFQUFuQyxFQUFzQyxF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O0VBQUE7RUFDQSxDQUFDLENBQUMsT0FBTyxDQUFDLFlBQVYsQ0FBQTtTQUNBLEtBQUEsQ0FBQTtBQUxjLEVBaEtmOzs7Ozs7Ozs7Ozs7Ozs7O0FBc0xBLFVBQUEsR0FBYSxRQUFBLENBQUEsQ0FBQTtBQUNiLE1BQUEsQ0FBQSxFQUFBLEdBQUEsRUFBQSxNQUFBLEVBQUE7RUFBQyxJQUFHLEdBQUEsS0FBTyxHQUFWO0lBQ0MsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxVQUFWLENBQXFCLEdBQXJCLEVBREQ7R0FBQSxNQUVLLElBQUcsR0FBQSxLQUFPLEdBQVY7SUFDSixDQUFDLENBQUMsTUFBRixHQUFXLENBQUksQ0FBQyxDQUFDLE9BRGI7R0FBQSxNQUFBO0FBR0o7SUFBQSxLQUFBLHFDQUFBOztNQUFBLE1BQU0sQ0FBQyxVQUFQLENBQWtCLEdBQWxCO0lBQUEsQ0FISTs7U0FJTCxLQUFBLENBQUE7QUFQWTs7QUFTYixTQUFBLEdBQVksUUFBQSxDQUFBLENBQUE7QUFDWixNQUFBLFFBQUEsRUFBQSxDQUFBLEVBQUEsR0FBQSxFQUFBLE9BQUEsRUFBQSxNQUFBLEVBQUE7RUFBQyxRQUFBLEdBQVc7RUFDWCxPQUFBLEdBQVU7QUFDVjtFQUFBLEtBQUEscUNBQUE7O0lBQ0MsSUFBRyxNQUFNLENBQUMsUUFBUCxDQUFBLENBQUg7TUFDQyxRQUFBLEdBREQ7O0lBRUEsSUFBRyxNQUFNLENBQUMsT0FBUCxDQUFlLENBQUMsQ0FBQyxLQUFqQixDQUFIO01BQ0MsT0FBQSxHQUREOztFQUhEO0VBS0EsSUFBRyxPQUFBLEdBQVUsQ0FBYjtJQUNDLENBQUMsQ0FBQyxLQUFGLEdBREQ7R0FBQSxNQUFBO0lBR0MsQ0FBQyxDQUFDLEtBQUYsR0FIRDs7RUFJQSxJQUFHLENBQUMsQ0FBQyxLQUFGLEtBQVcsQ0FBZDtXQUNDLENBQUMsQ0FBQyxLQUFGLEdBQVUsRUFEWDs7QUFaVyIsInNvdXJjZXNDb250ZW50IjpbImcgPSAwXHJcbmlkcyA9IHt9XHJcbnJlbGVhc2VkID0gdHJ1ZVxyXG5cclxuY2xhc3MgR2FtZVxyXG5cdGNvbnN0cnVjdG9yIDogKEB4PTAsIEB5PTAsIEBhPTAsIEBzPTEsIEBzdGFjaz1bXSkgLT5cclxuXHRcdEBwbGF5ZXJzID0gW11cclxuXHRcdEBsZXZlbCA9IDFcclxuXHRcdHcgPSB3aWR0aFxyXG5cdFx0aCA9IGhlaWdodFxyXG5cdFx0QG1vZGUgPSAwXHJcblx0XHRAYml0bWFwID0gdHJ1ZVxyXG5cclxuXHRcdEBwbGF5ZXJzLnB1c2ggbmV3IFBsYXllciBbODcsNjUsODMsNjgsMTZdLDMwLDMwLCA2MCw2MFxyXG5cdFx0QHBsYXllcnMucHVzaCBuZXcgUGxheWVyIFszOCwzNyw0MCwzOSwxN10sOTAsMzAsIDYwLDYwXHJcblx0XHRAZGlzcGxheSA9ICBuZXcgQnV0dG9uIDEsMSwxLCBALCAwLjIsIDAsIC0yNCwgNiwgMTIsIFwiXCIsXCJcIlxyXG5cclxuXHRwdXNoIDogLT5cclxuXHRcdEBzdGFjay5wdXNoIFtAeCxAeSxAYSxAc11cclxuXHRcdHB1c2goKVxyXG5cdHBvcCA6IC0+XHJcblx0XHRbQHgsQHksQGEsQHNdID0gQHN0YWNrLnBvcCgpXHJcblx0XHRwb3AoKVxyXG5cdHJvdGF0ZSA6IChkKSAtPlxyXG5cdFx0cm90YXRlIHJhZGlhbnMgZFxyXG5cdFx0QGEgKz0gZFxyXG5cdHNjYWxlIDogKGRzKSAtPlxyXG5cdFx0c2NhbGUgZHNcclxuXHRcdEBzICo9IGRzXHJcblx0dHJhbnNsYXRlIDogKGR4LGR5KSAtPlxyXG5cdFx0diA9IHJhZGlhbnMgQGFcclxuXHRcdEB4ICs9IEBzICogZHggKiBjb3ModikgLSBAcyAqIGR5ICogc2luKHYpXHJcblx0XHRAeSArPSBAcyAqIGR5ICogY29zKHYpICsgQHMgKiBkeCAqIHNpbih2KVxyXG5cdFx0dHJhbnNsYXRlIGR4LGR5XHJcblx0ZHVtcCA6ICh0eHQpIC0+XHJcblx0XHRwcmludCB0eHQsIEB4LEB5XHJcblxyXG5cdHByb2Nlc3MgOiAtPlxyXG5cdFx0QG1vZGUgPSAxIC0gQG1vZGVcclxuXHRcdGlmIEBtb2RlID09IDBcclxuXHRcdFx0YXV0b2xldmVsKClcclxuXHRcdFx0QGNyZWF0ZVByb2JsZW0oKVxyXG5cclxuXHRyZXN1bHQgOiAtPlxyXG5cdFx0ZmlsbCAxMjdcclxuXHRcdHJlY3QgMCwwLHdpZHRoLGhlaWdodFxyXG5cclxuXHRcdGlmIEBwbGF5ZXJzWzBdLnN0b3BwID09IDBcclxuXHRcdFx0QHBsYXllcnNbMF0uY29sb3IgPSBjb2xvciAxMjdcclxuXHRcdGVsc2UgaWYgQHBsYXllcnNbMF0uc2NvcmUoKSA8IEBwbGF5ZXJzWzFdLnNjb3JlKCkgb3IgQHBsYXllcnNbMV0uc3RvcHAgPT0gMCAgXHJcblx0XHRcdEBwbGF5ZXJzWzBdLmNvbG9yID0gY29sb3IgMCwyNTUsMFxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRAcGxheWVyc1swXS5jb2xvciA9IGNvbG9yIDI1NSwwLDBcclxuXHJcblx0XHRpZiBAcGxheWVyc1sxXS5zdG9wcCA9PSAwXHJcblx0XHRcdEBwbGF5ZXJzWzFdLmNvbG9yID0gY29sb3IgMTI3XHJcblx0XHRlbHNlIGlmIEBwbGF5ZXJzWzFdLnNjb3JlKCkgPCBAcGxheWVyc1swXS5zY29yZSgpIG9yIEBwbGF5ZXJzWzBdLnN0b3BwID09IDAgIFxyXG5cdFx0XHRAcGxheWVyc1sxXS5jb2xvciA9IGNvbG9yIDAsMjU1LDBcclxuXHRcdGVsc2VcclxuXHRcdFx0QHBsYXllcnNbMV0uY29sb3IgPSBjb2xvciAyNTUsMCwwXHJcblxyXG5cdFx0Zm9yIHBsYXllciBpbiBAcGxheWVyc1xyXG5cdFx0XHRwbGF5ZXIucmVzdWx0KClcclxuXHJcblx0XHRAc29sdmVfcmVzdWx0KClcclxuXHJcblx0c29sdmVfcmVzdWx0IDogLT5cclxuXHRcdGZpbGwgMFxyXG5cdFx0biA9IDIwIFxyXG5cdFx0SCA9IGhlaWdodCAvIG5cclxuXHRcdHRleHRTaXplIEhcclxuXHJcblx0XHRmb3IgbnVtYmVyLGkgaW4gQHNvbHV0aW9uXHJcblx0XHRcdHggPSBpbnQgaSAvIG5cclxuXHRcdFx0eSA9IGludCBpICUgblxyXG5cdFx0XHR0ZXh0IG51bWJlci50b1N0cmluZygpLCB4KjEwMCwgLTguNSpIICsgeSpIXHRcdFxyXG5cclxuXHRjcmVhdGVQcm9ibGVtIDogLT5cclxuXHRcdHggPSBpbnQgcmFuZG9tIC01LDZcclxuXHRcdHkgPSBpbnQgcmFuZG9tIC01LDZcclxuXHRcdGEgPSBuZXcgQ29tcGxleCB4LHlcclxuXHRcdGxzdCA9IFthXVxyXG5cdFx0dHJlZSA9IHt9XHJcblx0XHR0cmVlW2EudG9TdHJpbmcoKV0gPSBudWxsXHJcblx0XHRsc3QyID0gW11cclxuXHJcblx0XHRjMSA9IG5ldyBDb21wbGV4IDAsMVxyXG5cdFx0YzIgPSBuZXcgQ29tcGxleCAyLDBcclxuXHRcdGMzID0gbmV3IENvbXBsZXggMSwwXHJcblxyXG5cdFx0c2F2ZSA9IChpdGVtMSwgaXRlbTIpIC0+XHJcblx0XHRcdGlmIGl0ZW0yIG5vdCBvZiB0cmVlXHJcblx0XHRcdFx0bHN0Mi5wdXNoIGl0ZW0yXHJcblx0XHRcdFx0dHJlZVtpdGVtMl0gPSBpdGVtMVxyXG5cclxuXHRcdGZvciBqIGluIHJhbmdlIEBsZXZlbFxyXG5cdFx0XHRsc3QyID0gW11cclxuXHRcdFx0Zm9yIGl0ZW0gaW4gbHN0XHJcblx0XHRcdFx0c2F2ZSBpdGVtLCBpdGVtLm11bCBjMVxyXG5cdFx0XHRcdHNhdmUgaXRlbSwgaXRlbS5tdWwgYzJcclxuXHRcdFx0XHRzYXZlIGl0ZW0sIGl0ZW0uYWRkIGMzXHJcblx0XHRcdFx0c2F2ZSBpdGVtLCBpdGVtLm1pcigpXHJcblx0XHRcdGxzdCA9IGxzdDJcclxuXHRcdFx0XHJcblx0XHRiID0gQHNlbGVjdFRhcmdldCBsc3RcclxuXHRcdEBzb2x1dGlvbiA9IEBwYXRoIGIsdHJlZVxyXG5cclxuXHRcdGQgPSBuZXcgRGF0ZSgpXHJcblx0XHRtcyA9IGludCBkLmdldFRpbWUoKVxyXG5cdFx0Zm9yIHBsYXllciBpbiBAcGxheWVyc1xyXG5cdFx0XHRwbGF5ZXIuaGlzdG9yeSA9IFthXVxyXG5cdFx0XHRwbGF5ZXIudGFyZ2V0ID0gYlxyXG5cdFx0XHRwbGF5ZXIuY291bnQgPSAwXHJcblx0XHRcdHBsYXllci5zdGFydCA9IG1zXHJcblx0XHRcdHBsYXllci5zdG9wcCA9IDBcclxuXHRcdFx0cGxheWVyLmxldmVsID0gQGxldmVsXHJcblxyXG5cdHBhdGggOiAoYix0cmVlKSAtPlxyXG5cdFx0cmV0dXJuIFtdIGlmIGIgPT0gbnVsbFxyXG5cdFx0QHBhdGgodHJlZVtiXSwgdHJlZSkuY29uY2F0IFtiXVxyXG5cclxuXHRzZWxlY3RUYXJnZXQgOiAobHN0KSAtPiAjIHdpdGhpbiAyMXgyMSB3aW5kb3csIGlmIHBvc3NpYmxlXHJcblx0XHRicyA9IChpdGVtIGZvciBpdGVtIGluIGxzdCB3aGVuIC0xMCA8IGl0ZW0ueCA8PSAxMCBhbmQgLTEwIDwgaXRlbS55IDw9IDEwKVxyXG5cdFx0cmV0dXJuIF8uc2FtcGxlIGJzIGlmIGJzLmxlbmd0aCA+IDBcclxuXHRcdF8ubWluIGxzdCwgKGl0ZW0pIC0+IGRpc3QgMCwwLGl0ZW0ueCxpdGVtLnlcclxuXHJcbnNldHVwID0gLT5cclxuXHRjcmVhdGVDYW52YXMgd2luZG93V2lkdGgsIHdpbmRvd0hlaWdodFxyXG5cdGZyYW1lUmF0ZSAxNVxyXG5cdHRleHRBbGlnbiBDRU5URVIsQ0VOVEVSXHJcblx0cmVjdE1vZGUgQ0VOVEVSXHJcblx0ZyA9IG5ldyBHYW1lKClcclxuXHRnLmNyZWF0ZVByb2JsZW0oKVxyXG5cdHhkcmF3KClcclxuXHJcbnhkcmF3ID0gLT5cclxuXHRiZyAwLjVcclxuXHRnLnB1c2goKVxyXG5cdGcudHJhbnNsYXRlIGludCh3aWR0aC8yKSwgaW50KGhlaWdodC8yKVx0IyBpbnRlZ2VycyBuZWVkZWQgaGVyZSBvciBibHVycnkgZ3JpZCBsaW5lc1xyXG5cclxuXHRmb3IgcGxheWVyLGkgaW4gZy5wbGF5ZXJzXHJcblx0XHRnLnB1c2goKVxyXG5cdFx0Zy50cmFuc2xhdGUgKDIqaS0xKSAqIHdpZHRoLzQsIDBcclxuXHRcdGlmIGcubW9kZT09MFxyXG5cdFx0XHRwbGF5ZXIuZHJhdygpXHJcblx0XHRlbHNlXHJcblx0XHRcdHBsYXllci5yZXN1bHQoKVxyXG5cdFx0Zy5wb3AoKVxyXG5cdGcuZGlzcGxheS5kcmF3KClcclxuXHRnLnBvcCgpXHJcblxyXG5tb3VzZVJlbGVhc2VkID0gLT4gIyB0byBtYWtlIEFuZHJvaWQgd29yayBcclxuXHRyZWxlYXNlZCA9IHRydWVcclxuXHRmYWxzZVxyXG5cclxudG91Y2hTdGFydGVkID0gLT5cclxuXHRwbGF5ZXIubW91c2VQcmVzc2VkKCkgZm9yIHBsYXllciBpbiBnLnBsYXllcnNcclxuXHRnLmRpc3BsYXkubW91c2VQcmVzc2VkKClcclxuXHR4ZHJhdygpXHJcblxyXG5tb3VzZVByZXNzZWQgPSAtPlxyXG5cdGlmICFyZWxlYXNlZCB0aGVuIHJldHVybiAjIHRvIG1ha2UgQW5kcm9pZCB3b3JrXHJcblx0cmVsZWFzZWQgPSBmYWxzZVxyXG5cdHBsYXllci5tb3VzZVByZXNzZWQoKSBmb3IgcGxheWVyIGluIGcucGxheWVyc1xyXG5cdGcuZGlzcGxheS5tb3VzZVByZXNzZWQoKVxyXG5cdHhkcmF3KClcclxuXHJcbiMgdG91Y2hTdGFydGVkID0gLT4gXHJcbiMgXHRmb3IgdG91Y2ggaW4gdG91Y2hlc1xyXG4jIFx0XHRpZiB0b3VjaC5pZCBub3Qgb2YgaWRzIFxyXG4jIFx0XHRcdGlkc1t0b3VjaC5pZF0gPSB0b3VjaFxyXG4jIFx0XHRcdGZvciBwbGF5ZXIgaW4gZy5wbGF5ZXJzXHJcbiMgXHRcdFx0XHRwbGF5ZXIudG91Y2hTdGFydGVkIHRvdWNoLngsdG91Y2gueVxyXG4jIFx0aWRzID0ge30gaWYgdG91Y2gubGVuZ3RoID09IDBcclxuIyBcdGcuZGlzcGxheS50b3VjaFN0YXJ0ZWQgdG91Y2gueCx0b3VjaC55XHJcbiMgXHR4ZHJhdygpXHJcblxyXG4jIG1vdXNlUHJlc3NlZCA9IC0+XHJcbiMgXHRwbGF5ZXIubW91c2VQcmVzc2VkKCkgZm9yIHBsYXllciBpbiBnLnBsYXllcnNcclxuIyBcdGcuZGlzcGxheS5tb3VzZVByZXNzZWQoKVxyXG4jIFx0eGRyYXcoKVxyXG5cclxua2V5UHJlc3NlZCA9IC0+XHJcblx0aWYga2V5ID09ICcgJ1xyXG5cdFx0Zy5kaXNwbGF5LmtleVByZXNzZWQga2V5XHJcblx0ZWxzZSBpZiBrZXkgPT0gJ0InXHJcblx0XHRnLmJpdG1hcCA9IG5vdCBnLmJpdG1hcFxyXG5cdGVsc2VcclxuXHRcdHBsYXllci5rZXlQcmVzc2VkIGtleSBmb3IgcGxheWVyIGluIGcucGxheWVyc1xyXG5cdHhkcmF3KClcclxuXHJcbmF1dG9sZXZlbCA9IC0+XHJcblx0ZmluaXNoZWQgPSAwXHJcblx0cGVyZmVjdCA9IDBcclxuXHRmb3IgcGxheWVyIGluIGcucGxheWVyc1xyXG5cdFx0aWYgcGxheWVyLmZpbmlzaGVkKClcclxuXHRcdFx0ZmluaXNoZWQrK1xyXG5cdFx0aWYgcGxheWVyLnBlcmZlY3QgZy5sZXZlbFxyXG5cdFx0XHRwZXJmZWN0KytcclxuXHRpZiBwZXJmZWN0ID4gMFxyXG5cdFx0Zy5sZXZlbCsrXHJcblx0ZWxzZSBcclxuXHRcdGcubGV2ZWwtLVxyXG5cdGlmIGcubGV2ZWwgPT0gMFxyXG5cdFx0Zy5sZXZlbCA9IDFcclxuIl19
//# sourceURL=c:\github\p5Complex\coffee\sketch.coffee