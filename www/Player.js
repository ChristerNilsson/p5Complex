// Generated by CoffeeScript 1.11.1
var Player;

Player = (function() {
  var digits;

  function Player(keys, x, y, w, h) {
    this.w = w;
    this.h = h;
    this.M = 120;
    this.N = 60;
    this.keys = keys;
    this.history = [3];
    this.target = 2;
    this.count = 0;
    this.level = 0;
    this.buttons = [];
    this.buttons.push(new Button(0, 0.5, 0, this, -10.5, 0, 7.5, 15, "", "1+i"));
    this.buttons.push(new Button(1, 0, 0, this, 10.5, 0, 7.5, 15, "", "-2i"));
    this.buttons.push(new Button(1, 1, 0, this, -10.5, 21, 7.5, 15, keys[1], "+1"));
    this.buttons.push(new Button(0.25, 0.25, 0.25, this, 0, 21, 7.5, 15, keys[0], "undo"));
    this.buttons.push(new Button(1, 1, 0, this, 10.5, 21, 7.5, 15, keys[2], "*i"));
  }

  Player.prototype.draw = function() {
    var button, j, len, ref;
    if (this.keys === "SAD") {
      if (this.target.toString() === this.top().toString()) {
        fc(0, 1, 0);
      } else {
        fc(0.5);
      }
    } else {
      if (this.target.toString() === this.top().toString()) {
        fc(0, 1, 0);
      } else {
        fc(0.5);
      }
    }
    rect(0, 0, width * this.w / this.M, height * this.h / this.N);
    this.buttons[0].txt = this.top().toString();
    this.buttons[1].txt = this.target.toString();
    ref = this.buttons;
    for (j = 0, len = ref.length; j < len; j++) {
      button = ref[j];
      button.draw();
    }
    textSize(height / 20);
    fc(0.25);
    text(this.level - this.history.length + 1, -width * 0.17, height * 0.18);
    return this.complexBitmap();
  };

  Player.prototype.complexBitmap = function() {
    var i, j, len, n, ref, x, x1, x2, y, y1, y2;
    n = int(width / 90);
    fc(0);
    rect(0, 0, 20 * n, 20 * n);
    sc(1, 1, 0);
    sw(1);
    ref = range(21);
    for (j = 0, len = ref.length; j < len; j++) {
      i = ref[j];
      x1 = -10 * n;
      y = lerp(-10 * n, -9 * n, i);
      x2 = 10 * n;
      line(x1, y, x2, y);
      x = lerp(-10 * n, -9 * n, i);
      y1 = -10 * n;
      y2 = 10 * n;
      line(x, y1, x, y2);
    }
    sw(3);
    line(0, y1, 0, y2);
    line(x1, 0, x2, 0);
    if (this.target.toString() !== this.top().toString()) {
      this.complexPoint(n, 1, 1, 0, this.top().add(new Complex(1, 0)));
      this.complexPoint(n, 1, 1, 0, this.top().mul(new Complex(0, 1)));
    }
    this.complexPoint(n, 1, 0, 0, this.target);
    return this.complexPoint(n, 0, 1, 0, this.top());
  };

  Player.prototype.complexPoint = function(n, r, g, b, c) {
    if (abs(c.x) <= 10 && abs(c.y) <= 10) {
      fc(r, g, b, 0.75);
      sc();
      return circle(n * c.x, -n * c.y, n / 2);
    }
  };

  Player.prototype.process = function(key) {
    if (this.target.toString() === this.top().toString()) {
      return;
    }
    if (key === this.keys[0] && this.history.length > 1) {
      this.history.pop();
    }
    if (key === this.keys[1]) {
      this.save(this.top().add(new Complex(1, 0)));
    }
    if (key === this.keys[2]) {
      return this.save(this.top().mul(new Complex(0, 1)));
    }
  };

  Player.prototype.save = function(value) {
    var d, ms;
    this.count++;
    this.history.push(value);
    if (this.target.toString() === this.top().toString()) {
      d = new Date();
      ms = d.getTime();
      return this.stopp = int(ms);
    }
  };

  Player.prototype.mousePressed = function() {
    var button, j, len, ref, results;
    ref = this.buttons;
    results = [];
    for (j = 0, len = ref.length; j < len; j++) {
      button = ref[j];
      results.push(button.mousePressed());
    }
    return results;
  };

  Player.prototype.touchStarted = function(x, y) {
    var button, j, len, ref, results;
    ref = this.buttons;
    results = [];
    for (j = 0, len = ref.length; j < len; j++) {
      button = ref[j];
      results.push(button.touchStarted(x, y));
    }
    return results;
  };

  Player.prototype.keyPressed = function(key) {
    var button, j, len, ref, results;
    ref = this.buttons;
    results = [];
    for (j = 0, len = ref.length; j < len; j++) {
      button = ref[j];
      results.push(button.keyPressed(key));
    }
    return results;
  };

  Player.prototype.score = function() {
    return (this.stopp - this.start) / 1000 + this.count * 10;
  };

  Player.prototype.top = function() {
    return this.history[this.history.length - 1];
  };

  Player.prototype.finished = function() {
    return this.top().toString() === this.target.toString();
  };

  Player.prototype.perfect = function(level) {
    return this.finished() && this.count <= level;
  };

  digits = function(x) {
    if (x < 100) {
      return x.toFixed(3);
    }
    if (x < 1000) {
      return x.toFixed(2);
    }
    if (x < 10000) {
      return x.toFixed(1);
    }
    return x.toFixed(0);
  };

  Player.prototype.result = function() {
    var H, dx, i, j, len, n, number, ref, results, x, x0, y;
    n = 20;
    if (this.stopp === 0) {
      return;
    }
    fill(this.color);
    H = height / n;
    textSize(H);
    if (this.keys === "SAD") {
      x0 = -width / 8;
      dx = -width / 8;
    } else {
      x0 = width / 8;
      dx = width / 8;
    }
    text(digits(this.score()), x0, -9.5 * H);
    ref = this.history;
    results = [];
    for (i = j = 0, len = ref.length; j < len; i = ++j) {
      number = ref[i];
      x = int(i / (n - 1));
      y = int(i % (n - 1));
      results.push(text(number, x0 + x * dx, -8.5 * H + y * H));
    }
    return results;
  };

  return Player;

})();

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUGxheWVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiUGxheWVyLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsSUFBQTs7QUFBTTtBQUVMLE1BQUE7O0VBQWEsZ0JBQUMsSUFBRCxFQUFNLENBQU4sRUFBUSxDQUFSLEVBQVUsQ0FBVixFQUFhLENBQWI7SUFBVSxJQUFDLENBQUEsSUFBRDtJQUFHLElBQUMsQ0FBQSxJQUFEO0lBQ3pCLElBQUMsQ0FBQSxDQUFELEdBQUs7SUFDTCxJQUFDLENBQUEsQ0FBRCxHQUFLO0lBQ0wsSUFBQyxDQUFBLElBQUQsR0FBUTtJQUdSLElBQUMsQ0FBQSxPQUFELEdBQVcsQ0FBQyxDQUFEO0lBQ1gsSUFBQyxDQUFBLE1BQUQsR0FBVTtJQUNWLElBQUMsQ0FBQSxLQUFELEdBQVM7SUFDVCxJQUFDLENBQUEsS0FBRCxHQUFTO0lBRVQsSUFBQyxDQUFBLE9BQUQsR0FBVztJQUNYLElBQUMsQ0FBQSxPQUFPLENBQUMsSUFBVCxDQUFrQixJQUFBLE1BQUEsQ0FBTyxDQUFQLEVBQVMsR0FBVCxFQUFhLENBQWIsRUFBZ0IsSUFBaEIsRUFBa0IsQ0FBQyxJQUFuQixFQUEwQixDQUExQixFQUE2QixHQUE3QixFQUFrQyxFQUFsQyxFQUFzQyxFQUF0QyxFQUF5QyxLQUF6QyxDQUFsQjtJQUNBLElBQUMsQ0FBQSxPQUFPLENBQUMsSUFBVCxDQUFrQixJQUFBLE1BQUEsQ0FBTyxDQUFQLEVBQVMsQ0FBVCxFQUFXLENBQVgsRUFBYyxJQUFkLEVBQWlCLElBQWpCLEVBQXdCLENBQXhCLEVBQTJCLEdBQTNCLEVBQWdDLEVBQWhDLEVBQW9DLEVBQXBDLEVBQXVDLEtBQXZDLENBQWxCO0lBQ0EsSUFBQyxDQUFBLE9BQU8sQ0FBQyxJQUFULENBQWtCLElBQUEsTUFBQSxDQUFPLENBQVAsRUFBUyxDQUFULEVBQVcsQ0FBWCxFQUFjLElBQWQsRUFBZ0IsQ0FBQyxJQUFqQixFQUF1QixFQUF2QixFQUEyQixHQUEzQixFQUFn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LENBQVAsQ0FBTCxFQUF1QixFQUF2QixFQUEyQixDQUFDLEdBQUQsR0FBSyxDQUFoQztBQUNBO0FBQUE7U0FBQSw2Q0FBQTs7TUFDQyxDQUFBLEdBQUksR0FBQSxDQUFJLENBQUEsR0FBSSxDQUFDLENBQUEsR0FBRSxDQUFILENBQVI7TUFDSixDQUFBLEdBQUksR0FBQSxDQUFJLENBQUEsR0FBSSxDQUFDLENBQUEsR0FBRSxDQUFILENBQVI7bUJBQ0osSUFBQSxDQUFLLE1BQUwsRUFBYSxFQUFBLEdBQUcsQ0FBQSxHQUFFLEVBQWxCLEVBQXNCLENBQUMsR0FBRCxHQUFLLENBQUwsR0FBUyxDQUFBLEdBQUUsQ0FBakM7QUFIRDs7RUFkTyIsInNvdXJjZXNDb250ZW50IjpbImNsYXNzIFBsYXllclxuXG5cdGNvbnN0cnVjdG9yOiAoa2V5cyx4LHksQHcsQGgpIC0+ICAjIHNpeHRpZXNcblx0XHRATSA9IDEyMFxuXHRcdEBOID0gNjBcblx0XHRAa2V5cyA9IGtleXNcblx0XHQjQHggPSB3aWR0aCAqIHggLyBATSAjIGNlbnRydW0gcGl4ZWxzXG5cdFx0I0B5ID0gaGVpZ2h0ICogeSAvIEBOICMgY2VudHJ1bSBwaXhlbHNcblx0XHRAaGlzdG9yeSA9IFszXVxuXHRcdEB0YXJnZXQgPSAyXG5cdFx0QGNvdW50ID0gMFxuXHRcdEBsZXZlbCA9IDBcblxuXHRcdEBidXR0b25zID0gW10gICAgICAgICAgICAgICMgeCAgIHkgICB3ICAgaCAocmVsYXRpdnQgY2VudHJ1bSlcblx0XHRAYnV0dG9ucy5wdXNoIG5ldyBCdXR0b24gMCwwLjUsMCwgQCwtMTAuNSwgIDAsIDcuNSwgMTUsIFwiXCIsXCIxK2lcIlxuXHRcdEBidXR0b25zLnB1c2ggbmV3IEJ1dHRvbiAxLDAsMCwgQCwgMTAuNSwgIDAsIDcuNSwgMTUsIFwiXCIsXCItMmlcIlxuXHRcdEBidXR0b25zLnB1c2ggbmV3IEJ1dHRvbiAxLDEsMCwgQCwtMTAuNSwgMjEsIDcuNSwgMTUsIGtleXNbMV0sXCIrMVwiXG5cdFx0QGJ1dHRvbnMucHVzaCBuZXcgQnV0dG9uIDAuMjUsMC4yNSwwLjI1LCBALCAgMCwgMjEsIDcuNSwgMTUsIGtleXNbMF0sXCJ1bmRvXCJcblx0XHRAYnV0dG9ucy5wdXNoIG5ldyBCdXR0b24gMSwxLDAsIEAsIDEwLjUsIDIxLCA3LjUsIDE1LCBrZXlzWzJdLFwiKmlcIlxuXG5cdGRyYXcgOiAtPlxuXHRcdGlmIEBrZXlzID09IFwiU0FEXCJcblx0XHRcdGlmIEB0YXJnZXQudG9TdHJpbmcoKSA9PSBAdG9wKCkudG9TdHJpbmcoKVxuXHRcdFx0XHRmYyAwLDEsMFxuXHRcdFx0ZWxzZVxuXHRcdFx0XHRmYyAwLjVcblx0XHRlbHNlXG5cdFx0XHRpZiBAdGFyZ2V0LnRvU3RyaW5nKCkgPT0gQHRvcCgpLnRvU3RyaW5nKClcblx0XHRcdFx0ZmMgMCwxLDBcblx0XHRcdGVsc2Vcblx0XHRcdFx0ZmMgMC41XG5cblx0XHRyZWN0IDAsMCwgd2lkdGggKiBAdyAvIEBNLCBoZWlnaHQgKiBAaCAvIEBOIFxuXHRcdEBidXR0b25zWzBdLnR4dCA9IEB0b3AoKS50b1N0cmluZygpXG5cdFx0QGJ1dHRvbnNbMV0udHh0ID0gQHRhcmdldC50b1N0cmluZygpXG5cdFx0Zm9yIGJ1dHRvbiBpbiBAYnV0dG9uc1xuXHRcdFx0YnV0dG9uLmRyYXcoKVxuXHRcdHRleHRTaXplIGhlaWdodC8yMFxuXHRcdGZjIDAuMjVcblx0XHR0ZXh0IEBsZXZlbCAtIEBoaXN0b3J5Lmxlbmd0aCArIDEsIC13aWR0aCowLjE3LCBoZWlnaHQgKiAwLjE4XG5cblx0XHRAY29tcGxleEJpdG1hcCgpXG5cblx0Y29tcGxleEJpdG1hcCA6IC0+XG5cdFx0biA9IGludCB3aWR0aC85MCAjIHBpeGVscyBwZXIgdW5pdFxuXG5cdFx0ZmMgMFxuXHRcdHJlY3QgMCwwLDIwKm4sMjAqblxuXHRcdHNjIDEsMSwwXG5cdFx0c3cgMVxuXHRcdGZvciBpIGluIHJhbmdlIDIxXG5cblx0XHRcdCMgaG9yIExpbmVzXG5cdFx0XHR4MSA9IC0xMCpuXG5cdFx0XHR5ID0gbGVycCAtMTAqbiwgLTkqbiwgaVxuXHRcdFx0eDIgPSAxMCpuXG5cdFx0XHRsaW5lIHgxLHkseDIseVxuXG5cdFx0XHQjIHZlciBsaW5lc1xuXHRcdFx0eCA9IGxlcnAgLTEwKm4sIC05Km4sIGlcblx0XHRcdHkxID0gLTEwKm5cblx0XHRcdHkyID0gMTAqblxuXHRcdFx0bGluZSB4LHkxLHgseTIgXG5cblx0XHRzdyAzXG5cdFx0bGluZSAwLHkxLDAseTJcblx0XHRsaW5lIHgxLDAseDIsMCBcblxuXHRcdGlmIEB0YXJnZXQudG9TdHJpbmcoKSAhPSBAdG9wKCkudG9TdHJpbmcoKVxuXHRcdFx0QGNvbXBsZXhQb2ludCBuLDEsMSwwLCBAdG9wKCkuYWRkIG5ldyBDb21wbGV4IDEsMFxuXHRcdFx0QGNvbXBsZXhQb2ludCBuLDEsMSwwLCBAdG9wKCkubXVsIG5ldyBDb21wbGV4IDAsMVxuXHRcdEBjb21wbGV4UG9pbnQgbiwxLDAsMCwgQHRhcmdldFxuXHRcdEBjb21wbGV4UG9pbnQgbiwwLDEsMCwgQHRvcCgpXG5cblx0Y29tcGxleFBvaW50IDogKG4scixnLGIsYyktPlxuXHRcdGlmIGFicyhjLngpIDw9IDEwIGFuZCBhYnMoYy55KSA8PSAxMCBcblx0XHRcdGZjIHIsZyxiLDAuNzVcblx0XHRcdHNjKClcblx0XHRcdGNpcmNsZSBuKmMueCwtbipjLnksbi8yXG5cblx0cHJvY2VzcyA6IChrZXkpIC0+XG5cdFx0aWYgQHRhcmdldC50b1N0cmluZygpID09IEB0b3AoKS50b1N0cmluZygpXG5cdFx0XHRyZXR1cm5cblx0XHRAaGlzdG9yeS5wb3AoKSBpZiBrZXk9PUBrZXlzWzBdIGFuZCBAaGlzdG9yeS5sZW5ndGg+MVxuXHRcdEBzYXZlKEB0b3AoKS5hZGQobmV3IENvbXBsZXgoMSwwKSkpIGlmIGtleT09QGtleXNbMV0gXG5cdFx0QHNhdmUoQHRvcCgpLm11bChuZXcgQ29tcGxleCgwLDEpKSkgaWYga2V5PT1Aa2V5c1syXVxuXG5cdHNhdmUgOiAodmFsdWUpIC0+XG5cdFx0QGNvdW50Kytcblx0XHRAaGlzdG9yeS5wdXNoIHZhbHVlXG5cdFx0aWYgQHRhcmdldC50b1N0cmluZygpID09IEB0b3AoKS50b1N0cmluZygpXG5cdFx0XHRkID0gbmV3IERhdGUoKVxuXHRcdFx0bXMgPSBkLmdldFRpbWUoKVxuXHRcdFx0QHN0b3BwID0gaW50IG1zIFxuXG5cdG1vdXNlUHJlc3NlZCA6IC0+IGJ1dHRvbi5tb3VzZVByZXNzZWQoKSBmb3IgYnV0dG9uIGluIEBidXR0b25zIFxuXHR0b3VjaFN0YXJ0ZWQgOiAoeCx5KSAtPiBidXR0b24udG91Y2hTdGFydGVkKHgseSkgZm9yIGJ1dHRvbiBpbiBAYnV0dG9ucyBcblx0a2V5UHJlc3NlZCA6IChrZXkpIC0+IGJ1dHRvbi5rZXlQcmVzc2VkKGtleSkgZm9yIGJ1dHRvbiBpbiBAYnV0dG9uc1xuXG5cdHNjb3JlIDogLT4gKEBzdG9wcCAtIEBzdGFydCkvMTAwMCArIEBjb3VudCAqIDEwIFxuXHR0b3AgOiAtPiBAaGlzdG9yeVtAaGlzdG9yeS5sZW5ndGgtMV1cblx0ZmluaXNoZWQgOiAtPiBAdG9wKCkudG9TdHJpbmcoKSA9PSBAdGFyZ2V0LnRvU3RyaW5nKClcdFx0XG5cdHBlcmZlY3QgOiAobGV2ZWwpIC0+IEBmaW5pc2hlZCgpIGFuZCBAY291bnQgPD0gbGV2ZWxcblxuXHRkaWdpdHMgPSAoeCkgLT5cblx0XHRyZXR1cm4geC50b0ZpeGVkKDMpIGlmIHg8MTAwXG5cdFx0cmV0dXJuIHgudG9GaXhlZCgyKSBpZiB4PDEwMDBcblx0XHRyZXR1cm4geC50b0ZpeGVkKDEpIGlmIHg8MTAwMDBcblx0XHRyZXR1cm4geC50b0ZpeGVkKDApXG5cblx0cmVzdWx0IDooKSAtPlxuXHRcdG4gPSAyMFxuXHRcdGlmIEBzdG9wcCA9PSAwXG5cdFx0XHRyZXR1cm5cblx0XHRmaWxsIEBjb2xvclxuXHRcdEggPSBoZWlnaHQgLyBuXG5cdFx0dGV4dFNpemUgSFxuXHRcdGlmIEBrZXlzPT1cIlNBRFwiICMgbGVmdFxuXHRcdFx0eDAgPSAtd2lkdGgvOFxuXHRcdFx0ZHggPSAtd2lkdGgvOFxuXHRcdGVsc2Vcblx0XHRcdHgwID0gd2lkdGgvOFxuXHRcdFx0ZHggPSB3aWR0aC84XG5cdFx0dGV4dCBkaWdpdHMoQHNjb3JlKCkpLCB4MCwgLTkuNSpIIFxuXHRcdGZvciBudW1iZXIsaSBpbiBAaGlzdG9yeVxuXHRcdFx0eCA9IGludCBpIC8gKG4tMSlcblx0XHRcdHkgPSBpbnQgaSAlIChuLTEpXG5cdFx0XHR0ZXh0IG51bWJlciwgeDAreCpkeCwgLTguNSpIICsgeSpIXG4iXX0=
//# sourceURL=C:\github\p5Complex\www\Player.coffee