// Generated by CoffeeScript 1.11.1
var Player;

Player = (function() {
  var digits;

  function Player(keys, x, y, w, h) {
    this.w = w;
    this.h = h;
    this.M = 120;
    this.N = 60;
    this.keys = keys;
    this.history = [3];
    this.target = 2;
    this.count = 0;
    this.level = 0;
    this.buttons = [];
    this.buttons.push(new Button(0, 1, 0, this, 0, -7.5, -24, 6, 12, "", "a"));
    this.buttons.push(new Button(1, 0, 0, this, 0, 7.5, -24, 6, 12, "", "b"));
    this.buttons.push(new Button(1, 1, 1, this, 0.2, 0, -24, 6, 12, keys[0], "1"));
    this.buttons.push(new Button(1, 1, 0, this, 0.2, -10.5, 24, 6, 12, keys[1], "*i"));
    this.buttons.push(new Button(1, 1, 0, this, 0.2, 0.0, 24, 6, 12, keys[2], "*2"));
    this.buttons.push(new Button(1, 1, 0, this, 0.2, 10.5, 24, 6, 12, keys[3], "+1"));
  }

  Player.prototype.draw = function() {
    var button, j, len, ref, results;
    if (g.bitmap) {
      this.gridWithOneMove();
    }
    if (this.finished()) {
      fc(0, 1, 0, 0.1);
      rect(0, 0, width * this.w / this.M, height * this.h / this.N);
    }
    this.buttons[2].alpha = this.history.length === 1 ? 0 : 0.2;
    this.buttons[0].txt = this.top().toString();
    this.buttons[1].txt = this.target.toString();
    this.buttons[2].txt = this.level - this.history.length + 1;
    ref = this.buttons;
    results = [];
    for (j = 0, len = ref.length; j < len; j++) {
      button = ref[j];
      results.push(button.draw());
    }
    return results;
  };

  Player.prototype.grid = function(m, n) {
    var i, j, len, p, ref;
    fc(0);
    rect(0, 0, 20 * n, 20 * n);
    sc(1, 1, 0);
    sw(1);
    strokeCap(SQUARE);
    ref = range(21);
    for (j = 0, len = ref.length; j < len; j++) {
      i = ref[j];
      p = lerp(-10 * n, -9 * n, i);
      line(-m, p, m, p);
      line(p, -m, p, m);
    }
    sw(3);
    line(0, -m, 0, m);
    return line(-m, 0, m, 0);
  };

  Player.prototype.gridWithOneMove = function() {
    var m, n;
    n = int(width / 40);
    m = 10 * n;
    this.grid(m, n);
    if (!this.finished()) {
      this.complexPoint(n, 1, 1, 0, this.top().mul(new Complex(0, 1)));
      this.complexPoint(n, 1, 1, 0, this.top().mul(new Complex(2, 0)));
      this.complexPoint(n, 1, 1, 0, this.top().add(new Complex(1, 0)));
    }
    this.complexPoint(n, 1, 0, 0, this.target);
    return this.complexPoint(n, 0, 1, 0, this.top());
  };

  Player.prototype.draw_path = function(path, n, thickness, r, g, b) {
    var a, i, j, len, move, radius, results, start, stopp;
    sw(thickness);
    fc();
    sc(r, g, b);
    strokeCap(ROUND);
    results = [];
    for (i = j = 0, len = path.length; j < len; i = ++j) {
      move = path[i];
      if (i === 0) {
        continue;
      }
      a = path[i - 1];
      radius = n * dist(0, 0, a.x, a.y);
      if (radius === n * dist(0, 0, move.x, move.y)) {
        start = -HALF_PI + atan2(a.x, a.y);
        stopp = -HALF_PI + atan2(move.x, move.y);
        print(a.x, a.y, move.x, move.y, radius, start, stopp);
        results.push(arc(0, 0, 2 * radius, 2 * radius, stopp, start));
      } else {
        results.push(line(n * a.x, -n * a.y, n * move.x, -n * move.y));
      }
    }
    return results;
  };

  Player.prototype.gridWithAllMoves = function() {
    var j, k, len, len1, m, move, n, ref, ref1;
    n = int(width / 40);
    m = 10 * n;
    this.grid(m, n);
    this.draw_path(this.history, n, 9, 1, 1, 1);
    this.draw_path(g.solution, n, 1, 1, 0, 0);
    ref = this.history;
    for (j = 0, len = ref.length; j < len; j++) {
      move = ref[j];
      this.complexPoint(n, 1, 1, 0, move, n / 2 - 2);
    }
    ref1 = g.solution;
    for (k = 0, len1 = ref1.length; k < len1; k++) {
      move = ref1[k];
      this.complexPoint(n, 1, 1, 0, move, n / 4);
    }
    this.complexPoint(n, 1, 0, 0, this.target);
    return this.complexPoint(n, 0, 1, 0, this.history[0]);
  };

  Player.prototype.complexPoint = function(n, r, g, b, c, radius) {
    if (radius == null) {
      radius = n / 2 - 2;
    }
    if (abs(c.x) <= 10 && abs(c.y) <= 10) {
      sc();
      fc(r, g, b, 0.75);
      return circle(n * c.x, -n * c.y, radius);
    }
  };

  Player.prototype.process = function(key) {
    if (this.finished()) {
      return;
    }
    if (key === this.keys[0] && this.history.length > 1) {
      this.history.pop();
    }
    if (key === this.keys[1]) {
      this.save(this.top().mul(new Complex(0, 1)));
    }
    if (key === this.keys[2]) {
      this.save(this.top().mul(new Complex(2, 0)));
    }
    if (key === this.keys[3]) {
      return this.save(this.top().add(new Complex(1, 0)));
    }
  };

  Player.prototype.save = function(value) {
    var d, ms;
    this.count++;
    this.history.push(value);
    if (this.finished()) {
      d = new Date();
      ms = d.getTime();
      return this.stopp = int(ms);
    }
  };

  Player.prototype.mousePressed = function() {
    var button, j, len, ref, results;
    ref = this.buttons;
    results = [];
    for (j = 0, len = ref.length; j < len; j++) {
      button = ref[j];
      results.push(button.mousePressed());
    }
    return results;
  };

  Player.prototype.touchStarted = function(x, y) {
    var button, j, len, ref, results;
    ref = this.buttons;
    results = [];
    for (j = 0, len = ref.length; j < len; j++) {
      button = ref[j];
      results.push(button.touchStarted(x, y));
    }
    return results;
  };

  Player.prototype.keyPressed = function(key) {
    var button, j, len, ref, results;
    ref = this.buttons;
    results = [];
    for (j = 0, len = ref.length; j < len; j++) {
      button = ref[j];
      results.push(button.keyPressed(key));
    }
    return results;
  };

  Player.prototype.score = function() {
    return (this.stopp - this.start) / 1000 + this.count * 10;
  };

  Player.prototype.top = function() {
    return this.history[this.history.length - 1];
  };

  Player.prototype.finished = function() {
    return this.top().toString() === this.target.toString();
  };

  Player.prototype.perfect = function(level) {
    return this.finished() && this.count <= level;
  };

  digits = function(x) {
    if (x < 100) {
      return x.toFixed(3);
    }
    if (x < 1000) {
      return x.toFixed(2);
    }
    if (x < 10000) {
      return x.toFixed(1);
    }
    return x.toFixed(0);
  };

  Player.prototype.result = function() {
    var H, n, x0;
    n = 20;
    if (this.stopp === 0) {
      return;
    }
    this.gridWithAllMoves();
    H = height / n;
    textSize(H);
    if (this.keys === "WASD") {
      x0 = -width / 8;
    } else {
      x0 = width / 8;
    }
    return text(digits(this.score()), x0, -9.5 * H);
  };

  return Player;

})();

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUGxheWVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiUGxheWVyLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsSUFBQTs7QUFBTTtBQUVMLE1BQUE7O0VBQWEsZ0JBQUMsSUFBRCxFQUFNLENBQU4sRUFBUSxDQUFSLEVBQVUsQ0FBVixFQUFhLENBQWI7SUFBVSxJQUFDLENBQUEsSUFBRDtJQUFHLElBQUMsQ0FBQSxJQUFEO0lBQ3pCLElBQUMsQ0FBQSxDQUFELEdBQUs7SUFDTCxJQUFDLENBQUEsQ0FBRCxHQUFLO0lBQ0wsSUFBQyxDQUFBLElBQUQsR0FBUTtJQUNSLElBQUMsQ0FBQSxPQUFELEdBQVcsQ0FBQyxDQUFEO0lBQ1gsSUFBQyxDQUFBLE1BQUQsR0FBVTtJQUNWLElBQUMsQ0FBQSxLQUFELEdBQVM7SUFDVCxJQUFDLENBQUEsS0FBRCxHQUFTO0lBRVQsSUFBQyxDQUFBLE9BQUQsR0FBVztJQUNYLElBQUMsQ0FBQSxPQUFPLENBQUMsSUFBVCxDQUFrQixJQUFBLE1BQUEsQ0FBTyxDQUFQLEVBQVMsQ0FBVCxFQUFXLENBQVgsRUFBZ0IsSUFBaEIsRUFBbUIsQ0FBbkIsRUFBd0IsQ0FBQyxHQUF6QixFQUE4QixDQUFDLEVBQS9CLEVBQW1DLENBQW5DLEVBQXNDLEVBQXRDLEVBQTBDLEVBQTFDLEVBQTZDLEdBQTdDLENBQWxCO0lBQ0EsSUFBQyxDQUFBLE9BQU8sQ0FBQyxJQUFULENBQWtCLElBQUEsTUFBQSxDQUFPLENBQVAsRUFBUyxDQUFULEVBQVcsQ0FBWCxFQUFnQixJQUFoQixFQUFtQixDQUFuQixFQUF5QixHQUF6QixFQUE4QixDQUFDLEVBQS9CLEVBQW1DLENBQW5DLEVBQXNDLEVBQXRDLEVBQTBDLEVBQTFDLEVBQTZDLEdBQTdDLENBQWxCO0lBQ0EsSUFBQyxDQUFBLE9BQU8sQ0FBQyxJQUFULENBQWtCLElBQUEsTUFBQSxDQUFPLENBQVAsRUFBUyxDQUFULEVBQVcsQ0FBWCxFQUFnQixJQUFoQixFQUFtQixHQUFuQixFQUEwQixDQUExQixFQUE4QixDQUFDLEVBQS9CLEVBQW1DLENBQW5DLEVBQXNDLEVBQXRDLEVBQTBDLElBQUssQ0FBQSxDQUFBLENBQS9DLEVBQWtELEdBQWxELENBQWxCO0lBQ0EsSUFBQyxDQUFBLE9BQU8sQ0FBQyxJQUFULENBQWtCLElBQUEsTUFBQSxDQUFPLENBQVAsRUFBUyxDQUFULEVBQVcsQ0FBWCxFQUFnQixJQUFoQixFQUFtQixHQUFuQixFQUF3QixDQUFDLElBQXpCLEVBQStCLEVBQS9CLEVBQW1DLENBQW5DLEVBQXNDLEVBQXRDLEVBQTBDLElBQUssQ0FBQSxDQUFBLENBQS9DLEVBQWtELElBQWxELENBQWxCO0lBQ0EsSUFBQyxDQUFBLE9BQU8sQ0FBQyxJQUFULENBQWtCLElBQUEsTUFBQSxDQUFPLENBQVAsRUFBUyxDQUFULEVBQVcsQ0FBWCxFQUFnQixJQUFoQixFQUFtQixHQUFuQixFQUEwQixHQUExQixFQUErQixFQUEvQixFQUFtQyxDQUFuQyxFQUFzQyxFQUF0QyxFQUEwQyxJQUFLLENBQUEsQ0FBQSxDQUEvQyxFQUFrRCxJQUFsRCxDQUFsQjtJQUNBLElBQUMsQ0FBQSxPQUFPLENBQUMsSUFBVCxDQUFrQixJQUFBLE1BQUEsQ0FBTyxDQUFQLEVBQVMsQ0FBVCxFQUFXLENBQVgsRUFBZ0IsSUFBaEIsRUFBbUIsR0FBbkIsRUFBeUIsSUFBekIsRUFBK0IsRUFBL0IsRUFBbUMsQ0FBbkMsRUFBc0MsRUFBdEMsRUFBMEMsSUFBSyxDQUFBLENBQUEsQ0FBL0MsRUFBa0QsSUFBbEQsQ0FBbEI7RUFmWTs7bUJBaUJiLElBQUEsR0FBTyxTQUFBO0FBQ04sUUFBQTtJQUFBLElBQXNCLENBQUMsQ0FBQyxNQUF4QjtNQUFBLElBQUMsQ0FBQSxlQUFELENBQUEsRUFBQTs7SUFDQSxJQUFHLElBQUMsQ0FBQSxRQUFELENBQUEsQ0FBSDtNQUNDLEVBQUEsQ0FBRyxDQUFILEVBQUssQ0FBTCxFQUFPLENBQVAsRUFBUyxHQUFUO01BQ0EsSUFBQSxDQUFLLENBQUwsRUFBTyxDQUFQLEVBQVUsS0FBQSxHQUFRLElBQUMsQ0FBQSxDQUFULEdBQWEsSUFBQyxDQUFBLENBQXhCLEVBQTJCLE1BQUEsR0FBUyxJQUFDLENBQUEsQ0FBVixHQUFjLElBQUMsQ0FBQSxDQUExQyxFQUZEOztJQUlBLElBQUMsQ0FBQSxPQUFRLENBQUEsQ0FBQSxDQUFFLENBQUMsS0FBWixHQUF1QixJQUFDLENBQUEsT0FBTyxDQUFDLE1BQVQsS0FBbUIsQ0FBdEIsR0FBNkIsQ0FBN0IsR0FBb0M7SUFDeEQsSUFBQyxDQUFBLE9BQVEsQ0FBQSxDQUFBLENBQUUsQ0FBQyxHQUFaLEdBQWtCLElBQUMsQ0FBQSxHQUFELENBQUEsQ0FBTSxDQUFDLFFBQVAsQ0FBQTtJQUNsQixJQUFDLENBQUEsT0FBUSxDQUFBLENBQUEsQ0FBRSxDQUFDLEdBQVosR0FBa0IsSUFBQyxDQUFBLE1BQU0sQ0FBQyxRQUFSLENBQUE7SUFDbEIsSUFBQyxDQUFBLE9BQVEsQ0FBQSxDQUFBLENBQUUsQ0FBQyxHQUFaLEdBQWtCLElBQUMsQ0FBQSxLQUFELEdBQVMsSUFBQyxDQUFBLE9BQU8sQ0FBQyxNQUFsQixHQUEyQjtBQUU3QztBQUFBO1NBQUEscUNBQUE7O21CQUNDLE1BQU0sQ0FBQyxJQUFQLENBQUE7QUFERDs7RUFYTTs7bUJBY1AsSUFBQSxHQUFPLFNBQUMsQ0FBRCxFQUFHLENBQUg7QUFDTixRQUFBO0lBQUEsRUFBQSxDQUFHLENBQUg7SUFDQSxJQUFBLENBQUssQ0FBTCxFQUFPLENBQVAsRUFBUyxFQUFBLEdBQUcsQ0FBWixFQUFjLEVBQUEsR0FBRyxDQUFqQjtJQUNBLEVBQUEsQ0FBRyxDQUFILEVBQUssQ0FBTCxFQUFPLENBQVA7SUFDQSxFQUFBLENBQUcsQ0FBSDtJQUNBLFNBQUEsQ0FBVSxNQUFWO0FBQ0E7QUFBQSxTQUFBLHFDQUFBOztNQUNDLENBQUEsR0FBSSxJQUFBLENBQUssQ0FBQyxFQUFELEdBQUksQ0FBVCxFQUFZLENBQUMsQ0FBRCxHQUFHLENBQWYsRUFBa0IsQ0FBbEI7TUFDSixJQUFBLENBQUssQ0FBQyxDQUFOLEVBQVEsQ0FBUixFQUFVLENBQVYsRUFBWSxDQUFaO01BQ0EsSUFBQSxDQUFLLENBQUwsRUFBTyxDQUFDLENBQVIsRUFBVSxDQUFWLEVBQVksQ0FBWjtBQUhEO0lBSUEsRUFBQSxDQUFHLENBQUg7SUFDQSxJQUFBLENBQUssQ0FBTCxFQUFPLENBQUMsQ0FBUixFQUFVLENBQVYsRUFBWSxDQUFaO1dBQ0EsSUFBQSxDQUFLLENBQUMsQ0FBTixFQUFRLENBQVIsRUFBVSxDQUFWLEVBQVksQ0FBWjtFQVpNOzttQkFjUCxlQUFBLEdBQWtCLFNBQUE7QUFDakIsUUFBQTtJQUFBLENBQUEsR0FBSSxHQUFBLENBQUksS0FBQSxHQUFNLEVBQVY7SUFDSixDQUFBLEdBQUksRUFBQSxHQUFHO0lBRVAsSUFBQyxDQUFBLElBQUQsQ0FBTSxDQUFOLEVBQVEsQ0FBUjtJQUVBLElBQUcsQ0FBRSxJQUFDLENBQUEsUUFBRCxDQUFBLENBQUw7TUFDQyxJQUFDLENBQUEsWUFBRCxDQUFjLENBQWQsRUFBZ0IsQ0FBaEIsRUFBa0IsQ0FBbEIsRUFBb0IsQ0FBcEIsRUFBdUIsSUFBQyxDQUFBLEdBQUQsQ0FBQSxDQUFNLENBQUMsR0FBUCxDQUFlLElBQUEsT0FBQSxDQUFRLENBQVIsRUFBVSxDQUFWLENBQWYsQ0FBdkI7TUFDQSxJQUFDLENBQUEsWUFBRCxDQUFjLENBQWQsRUFBZ0IsQ0FBaEIsRUFBa0IsQ0FBbEIsRUFBb0IsQ0FBcEIsRUFBdUIsSUFBQyxDQUFBLEdBQUQsQ0FBQSxDQUFNLENBQUMsR0FBUCxDQUFlLElBQUEsT0FBQSxDQUFRLENBQVIsRUFBVSxDQUFWLENBQWYsQ0FBdkI7TUFDQSxJQUFDLENBQUEsWUFBRCxDQUFjLENBQWQsRUFBZ0IsQ0FBaEIsRUFBa0IsQ0FBbEIsRUFBb0IsQ0FBcEIsRUFBdUIsSUFBQyxDQUFBLEdBQUQsQ0FBQSxDQUFNLENBQUMsR0FBUCxDQUFlLElBQUEsT0FBQSxDQUFRLENBQVIsRUFBVSxDQUFWLENBQWYsQ0FBdkIsRUFIRDs7SUFJQSxJQUFDLENBQUEsWUFBRCxDQUFjLENBQWQsRUFBZ0IsQ0FBaEIsRUFBa0IsQ0FBbEIsRUFBb0IsQ0FBcEIsRUFBdUIsSUFBQyxDQUFBLE1BQXhCO1dBQ0EsSUFBQyxDQUFBLFlBQUQsQ0FBYyxDQUFkLEVBQWdCLENBQWhCLEVBQWtCLENBQWxCLEVBQW9CLENBQXBCLEVBQXVCLElBQUMsQ0FBQSxHQUFELENBQUEsQ0FBdkI7RUFYaUI7O21CQWFsQixTQUFBLEdBQVksU0FBQyxJQUFELEVBQU0sQ0FBTixFQUFRLFNBQVIsRUFBbUIsQ0FBbkIsRUFBcUIsQ0FBckIsRUFBdUIsQ0FBdkI7QUFDWCxRQUFBO0lBQUEsRUFBQSxDQUFHLFNBQUg7SUFDQSxFQUFBLENBQUE7SUFDQSxFQUFBLENBQUcsQ0FBSCxFQUFLLENBQUwsRUFBTyxDQUFQO0lBQ0EsU0FBQSxDQUFVLEtBQVY7QUFDQTtTQUFBLDhDQUFBOztNQUNDLElBQVksQ0FBQSxLQUFLLENBQWpCO0FBQUEsaUJBQUE7O01BQ0EsQ0FBQSxHQUFJLElBQUssQ0FBQSxDQUFBLEdBQUUsQ0FBRjtNQUNULE1BQUEsR0FBUyxDQUFBLEdBQUUsSUFBQSxDQUFLLENBQUwsRUFBTyxDQUFQLEVBQVMsQ0FBQyxDQUFDLENBQVgsRUFBYSxDQUFDLENBQUMsQ0FBZjtNQUNYLElBQUcsTUFBQSxLQUFVLENBQUEsR0FBRSxJQUFBLENBQUssQ0FBTCxFQUFPLENBQVAsRUFBUyxJQUFJLENBQUMsQ0FBZCxFQUFnQixJQUFJLENBQUMsQ0FBckIsQ0FBZjtRQUNDLEtBQUEsR0FBUSxDQUFFLE9BQUYsR0FBWSxLQUFBLENBQU0sQ0FBQyxDQUFDLENBQVIsRUFBVSxDQUFDLENBQUMsQ0FBWjtRQUNwQixLQUFBLEdBQVEsQ0FBRSxPQUFGLEdBQVksS0FBQSxDQUFNLElBQUksQ0FBQyxDQUFYLEVBQWEsSUFBSSxDQUFDLENBQWxCO1FBQ3BCLEtBQUEsQ0FBTSxDQUFDLENBQUMsQ0FBUixFQUFVLENBQUMsQ0FBQyxDQUFaLEVBQWUsSUFBSSxDQUFDLENBQXBCLEVBQXNCLElBQUksQ0FBQyxDQUEzQixFQUE4QixNQUE5QixFQUFxQyxLQUFyQyxFQUEyQyxLQUEzQztxQkFDQSxHQUFBLENBQUksQ0FBSixFQUFNLENBQU4sRUFBUyxDQUFBLEdBQUUsTUFBWCxFQUFrQixDQUFBLEdBQUUsTUFBcEIsRUFBNEIsS0FBNUIsRUFBa0MsS0FBbEMsR0FKRDtPQUFBLE1BQUE7cUJBTUMsSUFBQSxDQUFLLENBQUEsR0FBRSxDQUFDLENBQUMsQ0FBVCxFQUFZLENBQUMsQ0FBRCxHQUFHLENBQUMsQ0FBQyxDQUFqQixFQUFvQixDQUFBLEdBQUUsSUFBSSxDQUFDLENBQTNCLEVBQThCLENBQUMsQ0FBRCxHQUFHLElBQUksQ0FBQyxDQUF0QyxHQU5EOztBQUpEOztFQUxXOzttQkFpQlosZ0JBQUEsR0FBbUIsU0FBQTtBQUNsQixRQUFBO0lBQUEsQ0FBQSxHQUFJLEdBQUEsQ0FBSSxLQUFBLEdBQU0sRUFBVjtJQUNKLENBQUEsR0FBSSxFQUFBLEdBQUc7SUFDUCxJQUFDLENBQUEsSUFBRCxDQUFNLENBQU4sRUFBUSxDQUFSO0lBRUEsSUFBQyxDQUFBLFNBQUQsQ0FBVyxJQUFDLENBQUEsT0FBWixFQUFzQixDQUF0QixFQUF3QixDQUF4QixFQUEyQixDQUEzQixFQUE2QixDQUE3QixFQUErQixDQUEvQjtJQUNBLElBQUMsQ0FBQSxTQUFELENBQVcsQ0FBQyxDQUFDLFFBQWIsRUFBc0IsQ0FBdEIsRUFBd0IsQ0FBeEIsRUFBMkIsQ0FBM0IsRUFBNkIsQ0FBN0IsRUFBK0IsQ0FBL0I7QUFFQTtBQUFBLFNBQUEscUNBQUE7O01BQ0MsSUFBQyxDQUFBLFlBQUQsQ0FBYyxDQUFkLEVBQWdCLENBQWhCLEVBQWtCLENBQWxCLEVBQW9CLENBQXBCLEVBQXVCLElBQXZCLEVBQTZCLENBQUEsR0FBRSxDQUFGLEdBQUksQ0FBakM7QUFERDtBQUVBO0FBQUEsU0FBQSx3Q0FBQTs7TUFDQyxJQUFDLENBQUEsWUFBRCxDQUFjLENBQWQsRUFBZ0IsQ0FBaEIsRUFBa0IsQ0FBbEIsRUFBb0IsQ0FBcEIsRUFBdUIsSUFBdkIsRUFBNkIsQ0FBQSxHQUFFLENBQS9CO0FBREQ7SUFHQSxJQUFDLENBQUEsWUFBRCxDQUFjLENBQWQsRUFBZ0IsQ0FBaEIsRUFBa0IsQ0FBbEIsRUFBb0IsQ0FBcEIsRUFBdUIsSUFBQyxDQUFBLE1BQXhCO1dBQ0EsSUFBQyxDQUFBLFlBQUQsQ0FBYyxDQUFkLEVBQWdCLENBQWhCLEVBQWtCLENBQWxCLEVBQW9CLENBQXBCLEVBQXVCLElBQUMsQ0FBQSxPQUFRLENBQUEsQ0FBQSxDQUFoQztFQWRrQjs7bUJBZ0JuQixZQUFBLEdBQWUsU0FBQyxDQUFELEVBQUcsQ0FBSCxFQUFLLENBQUwsRUFBTyxDQUFQLEVBQVMsQ0FBVCxFQUFXLE1BQVg7O01BQVcsU0FBTyxDQUFBLEdBQUUsQ0FBRixHQUFJOztJQUNwQyxJQUFHLEdBQUEsQ0FBSSxDQUFDLENBQUMsQ0FBTixDQUFBLElBQVksRUFBWixJQUFtQixHQUFBLENBQUksQ0FBQyxDQUFDLENBQU4sQ0FBQSxJQUFZLEVBQWxDO01BQ0MsRUFBQSxDQUFBO01BQ0EsRUFBQSxDQUFHLENBQUgsRUFBSyxDQUFMLEVBQU8sQ0FBUCxFQUFTLElBQVQ7YUFDQSxNQUFBLENBQU8sQ0FBQSxHQUFFLENBQUMsQ0FBQyxDQUFYLEVBQWEsQ0FBQyxDQUFELEdBQUcsQ0FBQyxDQUFDLENBQWxCLEVBQW9CLE1BQXBCLEVBSEQ7O0VBRGM7O21CQU1mLE9BQUEsR0FBVSxTQUFDLEdBQUQ7SUFDVCxJQUFHLElBQUMsQ0FBQSxRQUFELENBQUEsQ0FBSDtBQUNDLGFBREQ7O0lBRUEsSUFBa0IsR0FBQSxLQUFLLElBQUMsQ0FBQSxJQUFLLENBQUEsQ0FBQSxDQUFYLElBQWtCLElBQUMsQ0FBQSxPQUFPLENBQUMsTUFBVCxHQUFnQixDQUFwRDtNQUFBLElBQUMsQ0FBQSxPQUFPLENBQUMsR0FBVCxDQUFBLEVBQUE7O0lBQ0EsSUFBb0MsR0FBQSxLQUFLLElBQUMsQ0FBQSxJQUFLLENBQUEsQ0FBQSxDQUEvQztNQUFBLElBQUMsQ0FBQSxJQUFELENBQU0sSUFBQyxDQUFBLEdBQUQsQ0FBQSxDQUFNLENBQUMsR0FBUCxDQUFlLElBQUEsT0FBQSxDQUFRLENBQVIsRUFBVSxDQUFWLENBQWYsQ0FBTixFQUFBOztJQUNBLElBQW9DLEdBQUEsS0FBSyxJQUFDLENBQUEsSUFBSyxDQUFBLENBQUEsQ0FBL0M7TUFBQSxJQUFDLENBQUEsSUFBRCxDQUFNLElBQUMsQ0FBQSxHQUFELENBQUEsQ0FBTSxDQUFDLEdBQVAsQ0FBZSxJQUFBLE9BQUEsQ0FBUSxDQUFSLEVBQVUsQ0FBVixDQUFmLENBQU4sRUFBQTs7SUFDQSxJQUFvQyxHQUFBLEtBQUssSUFBQyxDQUFBLElBQUssQ0FBQSxDQUFBLENBQS9DO2FBQUEsSUFBQyxDQUFBLElBQUQsQ0FBTSxJQUFDLENBQUEsR0FBRCxDQUFBLENBQU0sQ0FBQyxHQUFQLENBQWUsSUFBQSxPQUFBLENBQVEsQ0FBUixFQUFVLENBQVYsQ0FBZixDQUFOLEVBQUE7O0VBTlM7O21CQVFWLElBQUEsR0FBTyxTQUFDLEtBQUQ7QUFDTixRQUFBO0lBQUEsSUFBQyxDQUFBLEtBQUQ7SUFDQSxJQUFDLENBQUEsT0FBTyxDQUFDLElBQVQsQ0FBYyxLQUFkO0lBQ0EsSUFBRyxJQUFDLENBQUEsUUFBRCxDQUFBLENBQUg7TUFDQyxDQUFBLEdBQVEsSUFBQSxJQUFBLENBQUE7TUFDUixFQUFBLEdBQUssQ0FBQyxDQUFDLE9BQUYsQ0FBQTthQUNMLElBQUMsQ0FBQSxLQUFELEdBQVMsR0FBQSxDQUFJLEVBQUosRUFIVjs7RUFITTs7bUJBUVAsWUFBQSxHQUFlLFNBQUE7QUFBRyxRQUFBO0FBQUE7QUFBQTtTQUFBLHFDQUFBOzttQkFBQSxNQUFNLENBQUMsWUFBUCxDQUFBO0FBQUE7O0VBQUg7O21CQUNmLFlBQUEsR0FBZSxTQUFDLENBQUQsRUFBRyxDQUFIO0FBQVMsUUFBQTtBQUFBO0FBQUE7U0FBQSxxQ0FBQTs7bUJBQUEsTUFBTSxDQUFDLFlBQVAsQ0FBb0IsQ0FBcEIsRUFBc0IsQ0FBdEI7QUFBQTs7RUFBVDs7bUJBQ2YsVUFBQSxHQUFhLFNBQUMsR0FBRDtBQUFTLFFBQUE7QUFBQTtBQUFBO1NBQUEscUNBQUE7O21CQUFBLE1BQU0sQ0FBQyxVQUFQLENBQWtCLEdBQWxCO0FBQUE7O0VBQVQ7O21CQUViLEtBQUEsR0FBUSxTQUFBO1dBQUcsQ0FBQyxJQUFDLENBQUEsS0FBRCxHQUFTLElBQUMsQ0FBQSxLQUFYLENBQUEsR0FBa0IsSUFBbEIsR0FBeUIsSUFBQyxDQUFBLEtBQUQsR0FBUztFQUFyQzs7bUJBQ1IsR0FBQSxHQUFNLFNBQUE7V0FBRyxJQUFDLENBQUEsT0FBUSxDQUFBLElBQUMsQ0FBQSxPQUFPLENBQUMsTUFBVCxHQUFnQixDQUFoQjtFQUFaOzttQkFDTixRQUFBLEdBQVcsU0FBQTtXQUFHLElBQUMsQ0FBQSxHQUFELENBQUEsQ0FBTSxDQUFDLFFBQVAsQ0FBQSxDQUFBLEtBQXFCLElBQUMsQ0FBQSxNQUFNLENBQUMsUUFBUixDQUFBO0VBQXhCOzttQkFDWCxPQUFBLEdBQVUsU0FBQyxLQUFEO1dBQVcsSUFBQyxDQUFBLFFBQUQsQ0FBQSxDQUFBLElBQWdCLElBQUMsQ0FBQSxLQUFELElBQVU7RUFBckM7O0VBRVYsTUFBQSxHQUFTLFNBQUMsQ0FBRDtJQUNSLElBQXNCLENBQUEsR0FBRSxHQUF4QjtBQUFBLGFBQU8sQ0FBQyxDQUFDLE9BQUYsQ0FBVSxDQUFWLEVBQVA7O0lBQ0EsSUFBc0IsQ0FBQSxHQUFFLElBQXhCO0FBQUEsYUFBTyxDQUFDLENBQUMsT0FBRixDQUFVLENBQVYsRUFBUDs7SUFDQSxJQUFzQixDQUFBLEdBQUUsS0FBeEI7QUFBQSxhQUFPLENBQUMsQ0FBQyxPQUFGLENBQVUsQ0FBVixFQUFQOztBQUNBLFdBQU8sQ0FBQyxDQUFDLE9BQUYsQ0FBVSxDQUFWO0VBSkM7O21CQU1ULE1BQUEsR0FBUSxTQUFBO0FBQ1AsUUFBQTtJQUFBLENBQUEsR0FBSTtJQUNKLElBQUcsSUFBQyxDQUFBLEtBQUQsS0FBVSxDQUFiO0FBQ0MsYUFERDs7SUFHQSxJQUFDLENBQUEsZ0JBQUQsQ0FBQTtJQUdBLENBQUEsR0FBSSxNQUFBLEdBQVM7SUFDYixRQUFBLENBQVMsQ0FBVDtJQUNBLElBQUcsSUFBQyxDQUFBLElBQUQsS0FBUyxNQUFaO01BQ0UsRUFBQSxHQUFLLENBQUMsS0FBRCxHQUFPLEVBRGQ7S0FBQSxNQUFBO01BSUMsRUFBQSxHQUFLLEtBQUEsR0FBTSxFQUpaOztXQU1BLElBQUEsQ0FBSyxNQUFBLENBQU8sSUFBQyxDQUFBLEtBQUQsQ0FBQSxDQUFQLENBQUwsRUFBdUIsRUFBdkIsRUFBMkIsQ0FBQyxHQUFELEdBQUssQ0FBaEM7RUFoQk8iLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBQbGF5ZXJcclxuXHJcblx0Y29uc3RydWN0b3I6IChrZXlzLHgseSxAdyxAaCkgLT4gICMgc2l4dGllc1xyXG5cdFx0QE0gPSAxMjBcclxuXHRcdEBOID0gNjBcclxuXHRcdEBrZXlzID0ga2V5c1xyXG5cdFx0QGhpc3RvcnkgPSBbM11cclxuXHRcdEB0YXJnZXQgPSAyXHJcblx0XHRAY291bnQgPSAwXHJcblx0XHRAbGV2ZWwgPSAwXHJcblxyXG5cdFx0QGJ1dHRvbnMgPSBbXSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyB4ICAgICB5ICAgIHcgICBoIChyZWxhdGl2dCBjZW50cnVtKVxyXG5cdFx0QGJ1dHRvbnMucHVzaCBuZXcgQnV0dG9uIDAsMSwwLCAgIEAsIDAsICAgLTcuNSwgLTI0LCA2LCAxMiwgXCJcIixcImFcIlxyXG5cdFx0QGJ1dHRvbnMucHVzaCBuZXcgQnV0dG9uIDEsMCwwLCAgIEAsIDAsICAgIDcuNSwgLTI0LCA2LCAxMiwgXCJcIixcImJcIlxyXG5cdFx0QGJ1dHRvbnMucHVzaCBuZXcgQnV0dG9uIDEsMSwxLCAgIEAsIDAuMiwgICAwLCAgLTI0LCA2LCAxMiwga2V5c1swXSxcIjFcIiAjIHVuZG9cclxuXHRcdEBidXR0b25zLnB1c2ggbmV3IEJ1dHRvbiAxLDEsMCwgICBALCAwLjIsIC0xMC41LCAyNCwgNiwgMTIsIGtleXNbMV0sXCIqaVwiXHJcblx0XHRAYnV0dG9ucy5wdXNoIG5ldyBCdXR0b24gMSwxLDAsICAgQCwgMC4yLCAgIDAuMCwgMjQsIDYsIDEyLCBrZXlzWzJdLFwiKjJcIlxyXG5cdFx0QGJ1dHRvbnMucHVzaCBuZXcgQnV0dG9uIDEsMSwwLCAgIEAsIDAuMiwgIDEwLjUsIDI0LCA2LCAxMiwga2V5c1szXSxcIisxXCJcclxuXHJcblx0ZHJhdyA6IC0+XHJcblx0XHRAZ3JpZFdpdGhPbmVNb3ZlKCkgaWYgZy5iaXRtYXAgXHJcblx0XHRpZiBAZmluaXNoZWQoKVxyXG5cdFx0XHRmYyAwLDEsMCwwLjEgIyBncmVlblxyXG5cdFx0XHRyZWN0IDAsMCwgd2lkdGggKiBAdyAvIEBNLCBoZWlnaHQgKiBAaCAvIEBOIFxyXG5cclxuXHRcdEBidXR0b25zWzJdLmFscGhhID0gaWYgQGhpc3RvcnkubGVuZ3RoID09IDEgdGhlbiAwIGVsc2UgMC4yXHJcblx0XHRAYnV0dG9uc1swXS50eHQgPSBAdG9wKCkudG9TdHJpbmcoKVxyXG5cdFx0QGJ1dHRvbnNbMV0udHh0ID0gQHRhcmdldC50b1N0cmluZygpXHJcblx0XHRAYnV0dG9uc1syXS50eHQgPSBAbGV2ZWwgLSBAaGlzdG9yeS5sZW5ndGggKyAxXHJcblxyXG5cdFx0Zm9yIGJ1dHRvbiBpbiBAYnV0dG9uc1xyXG5cdFx0XHRidXR0b24uZHJhdygpXHJcblxyXG5cdGdyaWQgOiAobSxuKSAtPlxyXG5cdFx0ZmMgMFxyXG5cdFx0cmVjdCAwLDAsMjAqbiwyMCpuXHJcblx0XHRzYyAxLDEsMFxyXG5cdFx0c3cgMVxyXG5cdFx0c3Ryb2tlQ2FwIFNRVUFSRVxyXG5cdFx0Zm9yIGkgaW4gcmFuZ2UgMjFcclxuXHRcdFx0cCA9IGxlcnAgLTEwKm4sIC05Km4sIGkgXHJcblx0XHRcdGxpbmUgLW0scCxtLHAgIyBob3IgbGluZXNcclxuXHRcdFx0bGluZSBwLC1tLHAsbSAjIHZlciBsaW5lc1xyXG5cdFx0c3cgM1xyXG5cdFx0bGluZSAwLC1tLDAsbVxyXG5cdFx0bGluZSAtbSwwLG0sMCBcclxuXHJcblx0Z3JpZFdpdGhPbmVNb3ZlIDogLT5cclxuXHRcdG4gPSBpbnQgd2lkdGgvNDBcclxuXHRcdG0gPSAxMCpuXHJcblxyXG5cdFx0QGdyaWQgbSxuXHJcblxyXG5cdFx0aWYgISBAZmluaXNoZWQoKVxyXG5cdFx0XHRAY29tcGxleFBvaW50IG4sMSwxLDAsIEB0b3AoKS5tdWwgbmV3IENvbXBsZXggMCwxXHJcblx0XHRcdEBjb21wbGV4UG9pbnQgbiwxLDEsMCwgQHRvcCgpLm11bCBuZXcgQ29tcGxleCAyLDBcclxuXHRcdFx0QGNvbXBsZXhQb2ludCBuLDEsMSwwLCBAdG9wKCkuYWRkIG5ldyBDb21wbGV4IDEsMFxyXG5cdFx0QGNvbXBsZXhQb2ludCBuLDEsMCwwLCBAdGFyZ2V0XHJcblx0XHRAY29tcGxleFBvaW50IG4sMCwxLDAsIEB0b3AoKVxyXG5cclxuXHRkcmF3X3BhdGggOiAocGF0aCxuLHRoaWNrbmVzcywgcixnLGIpIC0+XHJcblx0XHRzdyB0aGlja25lc3NcclxuXHRcdGZjKClcclxuXHRcdHNjIHIsZyxiXHJcblx0XHRzdHJva2VDYXAgUk9VTkRcclxuXHRcdGZvciBtb3ZlLGkgaW4gcGF0aFxyXG5cdFx0XHRjb250aW51ZSBpZiBpID09IDBcclxuXHRcdFx0YSA9IHBhdGhbaS0xXVxyXG5cdFx0XHRyYWRpdXMgPSBuKmRpc3QoMCwwLGEueCxhLnkpIFxyXG5cdFx0XHRpZiByYWRpdXMgPT0gbipkaXN0KDAsMCxtb3ZlLngsbW92ZS55KSBcclxuXHRcdFx0XHRzdGFydCA9IC0gSEFMRl9QSSArIGF0YW4yIGEueCxhLnlcclxuXHRcdFx0XHRzdG9wcCA9IC0gSEFMRl9QSSArIGF0YW4yIG1vdmUueCxtb3ZlLnlcclxuXHRcdFx0XHRwcmludCBhLngsYS55LCBtb3ZlLngsbW92ZS55LCByYWRpdXMsc3RhcnQsc3RvcHBcclxuXHRcdFx0XHRhcmMgMCwwLCAyKnJhZGl1cywyKnJhZGl1cywgc3RvcHAsc3RhcnRcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdGxpbmUgbiphLngsIC1uKmEueSwgbiptb3ZlLngsIC1uKm1vdmUueVxyXG5cclxuXHRncmlkV2l0aEFsbE1vdmVzIDogLT5cclxuXHRcdG4gPSBpbnQgd2lkdGgvNDBcclxuXHRcdG0gPSAxMCpuXHJcblx0XHRAZ3JpZCBtLG5cclxuXHJcblx0XHRAZHJhd19wYXRoIEBoaXN0b3J5LCAgbiw5LCAxLDEsMVxyXG5cdFx0QGRyYXdfcGF0aCBnLnNvbHV0aW9uLG4sMSwgMSwwLDAgICMgYnVnIGluIGFyYz8uIGNhbm5vdCBoYW5kbGUgc3Ryb2tlV2VpZ2h0ID4gMVxyXG5cclxuXHRcdGZvciBtb3ZlIGluIEBoaXN0b3J5XHJcblx0XHRcdEBjb21wbGV4UG9pbnQgbiwxLDEsMCwgbW92ZSwgbi8yLTJcclxuXHRcdGZvciBtb3ZlIGluIGcuc29sdXRpb25cclxuXHRcdFx0QGNvbXBsZXhQb2ludCBuLDEsMSwwLCBtb3ZlLCBuLzRcclxuXHJcblx0XHRAY29tcGxleFBvaW50IG4sMSwwLDAsIEB0YXJnZXRcclxuXHRcdEBjb21wbGV4UG9pbnQgbiwwLDEsMCwgQGhpc3RvcnlbMF1cclxuXHJcblx0Y29tcGxleFBvaW50IDogKG4scixnLGIsYyxyYWRpdXM9bi8yLTIpLT5cclxuXHRcdGlmIGFicyhjLngpIDw9IDEwIGFuZCBhYnMoYy55KSA8PSAxMCBcclxuXHRcdFx0c2MoKVxyXG5cdFx0XHRmYyByLGcsYiwwLjc1XHJcblx0XHRcdGNpcmNsZSBuKmMueCwtbipjLnkscmFkaXVzXHJcblxyXG5cdHByb2Nlc3MgOiAoa2V5KSAtPlxyXG5cdFx0aWYgQGZpbmlzaGVkKClcclxuXHRcdFx0cmV0dXJuXHJcblx0XHRAaGlzdG9yeS5wb3AoKSBpZiBrZXk9PUBrZXlzWzBdIGFuZCBAaGlzdG9yeS5sZW5ndGg+MVxyXG5cdFx0QHNhdmUgQHRvcCgpLm11bCBuZXcgQ29tcGxleCAwLDEgaWYga2V5PT1Aa2V5c1sxXVxyXG5cdFx0QHNhdmUgQHRvcCgpLm11bCBuZXcgQ29tcGxleCAyLDAgaWYga2V5PT1Aa2V5c1syXVxyXG5cdFx0QHNhdmUgQHRvcCgpLmFkZCBuZXcgQ29tcGxleCAxLDAgaWYga2V5PT1Aa2V5c1szXSBcclxuXHJcblx0c2F2ZSA6ICh2YWx1ZSkgLT5cclxuXHRcdEBjb3VudCsrXHJcblx0XHRAaGlzdG9yeS5wdXNoIHZhbHVlXHJcblx0XHRpZiBAZmluaXNoZWQoKVxyXG5cdFx0XHRkID0gbmV3IERhdGUoKVxyXG5cdFx0XHRtcyA9IGQuZ2V0VGltZSgpXHJcblx0XHRcdEBzdG9wcCA9IGludCBtcyBcclxuXHJcblx0bW91c2VQcmVzc2VkIDogLT4gYnV0dG9uLm1vdXNlUHJlc3NlZCgpIGZvciBidXR0b24gaW4gQGJ1dHRvbnMgXHJcblx0dG91Y2hTdGFydGVkIDogKHgseSkgLT4gYnV0dG9uLnRvdWNoU3RhcnRlZCB4LHkgZm9yIGJ1dHRvbiBpbiBAYnV0dG9ucyBcclxuXHRrZXlQcmVzc2VkIDogKGtleSkgLT4gYnV0dG9uLmtleVByZXNzZWQga2V5IGZvciBidXR0b24gaW4gQGJ1dHRvbnNcclxuXHJcblx0c2NvcmUgOiAtPiAoQHN0b3BwIC0gQHN0YXJ0KS8xMDAwICsgQGNvdW50ICogMTAgXHJcblx0dG9wIDogLT4gQGhpc3RvcnlbQGhpc3RvcnkubGVuZ3RoLTFdXHJcblx0ZmluaXNoZWQgOiAtPiBAdG9wKCkudG9TdHJpbmcoKSA9PSBAdGFyZ2V0LnRvU3RyaW5nKClcdFx0XHJcblx0cGVyZmVjdCA6IChsZXZlbCkgLT4gQGZpbmlzaGVkKCkgYW5kIEBjb3VudCA8PSBsZXZlbFxyXG5cclxuXHRkaWdpdHMgPSAoeCkgLT5cclxuXHRcdHJldHVybiB4LnRvRml4ZWQgMyBpZiB4PDEwMFxyXG5cdFx0cmV0dXJuIHgudG9GaXhlZCAyIGlmIHg8MTAwMFxyXG5cdFx0cmV0dXJuIHgudG9GaXhlZCAxIGlmIHg8MTAwMDBcclxuXHRcdHJldHVybiB4LnRvRml4ZWQgMFxyXG5cclxuXHRyZXN1bHQgOigpIC0+XHJcblx0XHRuID0gMjBcclxuXHRcdGlmIEBzdG9wcCA9PSAwXHJcblx0XHRcdHJldHVyblxyXG5cclxuXHRcdEBncmlkV2l0aEFsbE1vdmVzKClcclxuXHJcblx0XHQjZmlsbCBAY29sb3JcclxuXHRcdEggPSBoZWlnaHQgLyBuXHJcblx0XHR0ZXh0U2l6ZSBIXHJcblx0XHRpZiBAa2V5cyA9PSBcIldBU0RcIiAjIGxlZnRcclxuXHRcdCBcdHgwID0gLXdpZHRoLzhcclxuXHRcdCMgXHRkeCA9IC13aWR0aC84XHJcblx0XHRlbHNlXHJcblx0XHRcdHgwID0gd2lkdGgvOFxyXG5cdFx0IyBcdGR4ID0gd2lkdGgvOFxyXG5cdFx0dGV4dCBkaWdpdHMoQHNjb3JlKCkpLCB4MCwgLTkuNSpIIFxyXG5cdFx0IyBmb3IgbnVtYmVyLGkgaW4gQGhpc3RvcnlcclxuXHRcdCMgXHR4ID0gaW50IGkgLyAobi0xKVxyXG5cdFx0IyBcdHkgPSBpbnQgaSAlIChuLTEpXHJcblx0XHQjIFx0dGV4dCBudW1iZXIsIHgwK3gqZHgsIC04LjUqSCArIHkqSFxyXG5cclxuIl19
//# sourceURL=C:\github\p5Complex\www\Player.coffee