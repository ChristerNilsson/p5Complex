// Generated by CoffeeScript 1.11.1
var Game, autolevel, g, ids, keyPressed, mousePressed, setup, touchStarted, xdraw;

g = 0;

ids = {};

Game = (function() {
  function Game(x1, y1, a1, s, stack) {
    var h, w;
    this.x = x1 != null ? x1 : 0;
    this.y = y1 != null ? y1 : 0;
    this.a = a1 != null ? a1 : 0;
    this.s = s != null ? s : 1;
    this.stack = stack != null ? stack : [];
    this.players = [];
    this.level = 1;
    w = width;
    h = height;
    this.mode = 0;
    this.players.push(new Player("WASD", 30, 30, 60, 60));
    this.players.push(new Player("&%('", 90, 30, 60, 60));
    this.display = new Button(0, 0, 0, this, 0.2, 0, -22, 8, 12, "", "");
  }

  Game.prototype.push = function() {
    this.stack.push([this.x, this.y, this.a, this.s]);
    return push();
  };

  Game.prototype.pop = function() {
    var ref;
    ref = this.stack.pop(), this.x = ref[0], this.y = ref[1], this.a = ref[2], this.s = ref[3];
    return pop();
  };

  Game.prototype.rotate = function(d) {
    rotate(radians(d));
    return this.a += d;
  };

  Game.prototype.scale = function(ds) {
    scale(ds);
    return this.s *= ds;
  };

  Game.prototype.translate = function(dx, dy) {
    var v;
    v = radians(this.a);
    this.x += this.s * dx * cos(v) - this.s * dy * sin(v);
    this.y += this.s * dy * cos(v) + this.s * dx * sin(v);
    return translate(dx, dy);
  };

  Game.prototype.dump = function(txt) {
    return print(txt, this.x, this.y);
  };

  Game.prototype.process = function() {
    this.mode = 1 - this.mode;
    if (this.mode === 0) {
      autolevel();
      return this.createProblem();
    }
  };

  Game.prototype.result = function() {
    var k, len, player, ref;
    fill(127);
    rect(0, 0, width, height);
    if (this.players[0].stopp === 0) {
      this.players[0].color = color(127);
    } else if (this.players[0].score() < this.players[1].score() || this.players[1].stopp === 0) {
      this.players[0].color = color(0, 255, 0);
    } else {
      this.players[0].color = color(255, 0, 0);
    }
    if (this.players[1].stopp === 0) {
      this.players[1].color = color(127);
    } else if (this.players[1].score() < this.players[0].score() || this.players[0].stopp === 0) {
      this.players[1].color = color(0, 255, 0);
    } else {
      this.players[1].color = color(255, 0, 0);
    }
    ref = this.players;
    for (k = 0, len = ref.length; k < len; k++) {
      player = ref[k];
      player.result();
    }
    return this.solve_result();
  };

  Game.prototype.solve_result = function() {
    var H, i, k, len, n, number, ref, results, x, y;
    fill(0);
    n = 20;
    H = height / n;
    textSize(H);
    ref = this.solution;
    results = [];
    for (i = k = 0, len = ref.length; k < len; i = ++k) {
      number = ref[i];
      x = int(i / n);
      y = int(i % n);
      results.push(text(number.toString(), x * 100, -8.5 * H + y * H));
    }
    return results;
  };

  Game.prototype.createProblem = function() {
    var a, b, c1, c2, c3, d, item, j, k, l, len, len1, len2, lst, lst2, m, ms, player, ref, ref1, results, save, tree, x, y;
    x = int(random(-5, 6));
    y = int(random(-5, 6));
    a = new Complex(x, y);
    lst = [a];
    tree = {};
    tree[a.toString()] = null;
    lst2 = [];
    c1 = new Complex(0, 1);
    c2 = new Complex(2, 0);
    c3 = new Complex(1, 0);
    save = function(item1, item2) {
      if (!(item2 in tree)) {
        lst2.push(item2);
        return tree[item2] = item1;
      }
    };
    ref = range(this.level);
    for (k = 0, len = ref.length; k < len; k++) {
      j = ref[k];
      lst2 = [];
      for (l = 0, len1 = lst.length; l < len1; l++) {
        item = lst[l];
        save(item, item.mul(c1));
        save(item, item.mul(c2));
        save(item, item.add(c3));
      }
      lst = lst2;
    }
    b = this.selectTarget(lst);
    this.solution = this.path(b, tree);
    d = new Date();
    ms = int(d.getTime());
    ref1 = this.players;
    results = [];
    for (m = 0, len2 = ref1.length; m < len2; m++) {
      player = ref1[m];
      player.history = [a];
      player.target = b;
      player.count = 0;
      player.start = ms;
      player.stopp = 0;
      results.push(player.level = this.level);
    }
    return results;
  };

  Game.prototype.path = function(b, tree) {
    if (b === null) {
      return [];
    }
    return this.path(tree[b], tree).concat([b]);
  };

  Game.prototype.selectTarget = function(lst) {
    var bs, item;
    bs = (function() {
      var k, len, ref, ref1, results;
      results = [];
      for (k = 0, len = lst.length; k < len; k++) {
        item = lst[k];
        if ((-10 < (ref = item.x) && ref <= 10) && (-10 < (ref1 = item.y) && ref1 <= 10)) {
          results.push(item);
        }
      }
      return results;
    })();
    return _.sample(bs.length > 0 ? bs : lst);
  };

  return Game;

})();

setup = function() {
  createCanvas(windowWidth, windowHeight);
  frameRate(15);
  textAlign(CENTER, CENTER);
  rectMode(CENTER);
  strokeCap(SQUARE);
  noSmooth();
  g = new Game();
  g.createProblem();
  return xdraw();
};

xdraw = function() {
  var i, k, len, player, ref;
  g.push();
  g.translate(int(width / 2), int(height / 2));
  ref = g.players;
  for (i = k = 0, len = ref.length; k < len; i = ++k) {
    player = ref[i];
    g.push();
    g.translate((2 * i - 1) * width / 4, 0);
    player.draw();
    g.pop();
    if (g.mode === 1) {
      g.result();
    }
  }
  g.display.draw();
  return g.pop();
};

touchStarted = function() {
  var k, l, len, len1, player, ref, touch;
  for (k = 0, len = touches.length; k < len; k++) {
    touch = touches[k];
    if (!(touch.id in ids)) {
      ids[touch.id] = touch;
      ref = g.players;
      for (l = 0, len1 = ref.length; l < len1; l++) {
        player = ref[l];
        player.touchStarted(touch.x, touch.y);
      }
    }
  }
  if (touch.length === 0) {
    ids = {};
  }
  g.display.touchStarted(touch.x, touch.y);
  return xdraw();
};

mousePressed = function() {
  var k, len, player, ref;
  ref = g.players;
  for (k = 0, len = ref.length; k < len; k++) {
    player = ref[k];
    player.mousePressed();
  }
  g.display.mousePressed();
  return xdraw();
};

keyPressed = function() {
  var k, len, player, ref;
  ref = g.players;
  for (k = 0, len = ref.length; k < len; k++) {
    player = ref[k];
    player.keyPressed(key);
  }
  if (key === ' ') {
    autolevel();
    g.createProblem();
  }
  return xdraw();
};

autolevel = function() {
  var finished, k, len, perfect, player, ref;
  finished = 0;
  perfect = 0;
  ref = g.players;
  for (k = 0, len = ref.length; k < len; k++) {
    player = ref[k];
    if (player.finished()) {
      finished++;
    }
    if (player.perfect(g.level)) {
      perfect++;
    }
  }
  if (perfect > 0) {
    g.level++;
  } else {
    g.level--;
  }
  if (g.level === 0) {
    return g.level = 1;
  }
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsic2tldGNoLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsSUFBQTs7QUFBQSxDQUFBLEdBQUk7O0FBQ0osR0FBQSxHQUFNOztBQUVBO0VBQ1MsY0FBQyxFQUFELEVBQU8sRUFBUCxFQUFhLEVBQWIsRUFBbUIsQ0FBbkIsRUFBeUIsS0FBekI7QUFDYixRQUFBO0lBRGMsSUFBQyxDQUFBLGlCQUFELEtBQUc7SUFBRyxJQUFDLENBQUEsaUJBQUQsS0FBRztJQUFHLElBQUMsQ0FBQSxpQkFBRCxLQUFHO0lBQUcsSUFBQyxDQUFBLGdCQUFELElBQUc7SUFBRyxJQUFDLENBQUEsd0JBQUQsUUFBTztJQUM3QyxJQUFDLENBQUEsT0FBRCxHQUFXO0lBQ1gsSUFBQyxDQUFBLEtBQUQsR0FBUztJQUNULENBQUEsR0FBSTtJQUNKLENBQUEsR0FBSTtJQUNKLElBQUMsQ0FBQSxJQUFELEdBQVE7SUFDUixJQUFDLENBQUEsT0FBTyxDQUFDLElBQVQsQ0FBa0IsSUFBQSxNQUFBLENBQU8sTUFBUCxFQUFjLEVBQWQsRUFBaUIsRUFBakIsRUFBcUIsRUFBckIsRUFBd0IsRUFBeEIsQ0FBbEI7SUFDQSxJQUFDLENBQUEsT0FBTyxDQUFDLElBQVQsQ0FBa0IsSUFBQSxNQUFBLENBQU8sTUFBUCxFQUFjLEVBQWQsRUFBaUIsRUFBakIsRUFBcUIsRUFBckIsRUFBd0IsRUFBeEIsQ0FBbEI7SUFDQSxJQUFDLENBQUEsT0FBRCxHQUFlLElBQUEsTUFBQSxDQUFPLENBQVAsRUFBUyxDQUFULEVBQVcsQ0FBWCxFQUFjLElBQWQsRUFBaUIsR0FBakIsRUFBc0IsQ0FBdEIsRUFBeUIsQ0FBQyxFQUExQixFQUE4QixDQUE5QixFQUFpQyxFQUFqQyxFQUFxQyxFQUFyQyxFQUF3QyxFQUF4QztFQVJGOztpQkFTZCxJQUFBLEdBQU8sU0FBQTtJQUNOLElBQUMsQ0FBQSxLQUFLLENBQUMsSUFBUCxDQUFZLENBQUMs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LFlBQUEsR0FBZSxTQUFBO0FBQ2QsTUFBQTtBQUFBO0FBQUEsT0FBQSxxQ0FBQTs7SUFBQSxNQUFNLENBQUMsWUFBUCxDQUFBO0FBQUE7RUFDQSxDQUFDLENBQUMsT0FBTyxDQUFDLFlBQVYsQ0FBQTtTQUNBLEtBQUEsQ0FBQTtBQUhjOztBQUtmLFVBQUEsR0FBYSxTQUFBO0FBQ1osTUFBQTtBQUFBO0FBQUEsT0FBQSxxQ0FBQTs7SUFBQSxNQUFNLENBQUMsVUFBUCxDQUFrQixHQUFsQjtBQUFBO0VBQ0EsSUFBRyxHQUFBLEtBQU8sR0FBVjtJQUNDLFNBQUEsQ0FBQTtJQUNBLENBQUMsQ0FBQyxhQUFGLENBQUEsRUFGRDs7U0FHQSxLQUFBLENBQUE7QUFMWTs7QUFPYixTQUFBLEdBQVksU0FBQTtBQUNYLE1BQUE7RUFBQSxRQUFBLEdBQVc7RUFDWCxPQUFBLEdBQVU7QUFDVjtBQUFBLE9BQUEscUNBQUE7O0lBQ0MsSUFBRyxNQUFNLENBQUMsUUFBUCxDQUFBLENBQUg7TUFDQyxRQUFBLEdBREQ7O0lBRUEsSUFBRyxNQUFNLENBQUMsT0FBUCxDQUFlLENBQUMsQ0FBQyxLQUFqQixDQUFIO01BQ0MsT0FBQSxHQUREOztBQUhEO0VBS0EsSUFBRyxPQUFBLEdBQVUsQ0FBYjtJQUNDLENBQUMsQ0FBQyxLQUFGLEdBREQ7R0FBQSxNQUFBO0lBR0MsQ0FBQyxDQUFDLEtBQUYsR0FIRDs7RUFJQSxJQUFHLENBQUMsQ0FBQyxLQUFGLEtBQVcsQ0FBZDtXQUNDLENBQUMsQ0FBQyxLQUFGLEdBQVUsRUFEWDs7QUFaVyIsInNvdXJjZXNDb250ZW50IjpbImcgPSAwXG5pZHMgPSB7fVxuXG5jbGFzcyBHYW1lXG5cdGNvbnN0cnVjdG9yIDogKEB4PTAsIEB5PTAsIEBhPTAsIEBzPTEsIEBzdGFjaz1bXSkgLT5cblx0XHRAcGxheWVycyA9IFtdXG5cdFx0QGxldmVsID0gMVxuXHRcdHcgPSB3aWR0aFxuXHRcdGggPSBoZWlnaHQgICBcblx0XHRAbW9kZSA9IDAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuXHRcdEBwbGF5ZXJzLnB1c2ggbmV3IFBsYXllciBcIldBU0RcIiwzMCwzMCwgNjAsNjBcblx0XHRAcGxheWVycy5wdXNoIG5ldyBQbGF5ZXIgXCImJSgnXCIsOTAsMzAsIDYwLDYwXG5cdFx0QGRpc3BsYXkgPSBuZXcgQnV0dG9uIDAsMCwwLCBALCAwLjIsIDAsIC0yMiwgOCwgMTIsIFwiXCIsXCJcIlxuXHRwdXNoIDogLT5cblx0XHRAc3RhY2sucHVzaCBbQHgsQHksQGEsQHNdXG5cdFx0cHVzaCgpXG5cdHBvcCA6IC0+XG5cdFx0W0B4LEB5LEBhLEBzXSA9IEBzdGFjay5wb3AoKVxuXHRcdHBvcCgpXG5cdHJvdGF0ZSA6IChkKSAtPlxuXHRcdHJvdGF0ZSByYWRpYW5zIGRcblx0XHRAYSArPSBkXG5cdHNjYWxlIDogKGRzKSAtPlxuXHRcdHNjYWxlIGRzXG5cdFx0QHMgKj0gZHNcblx0dHJhbnNsYXRlIDogKGR4LGR5KSAtPlxuXHRcdHYgPSByYWRpYW5zIEBhXG5cdFx0QHggKz0gQHMgKiBkeCAqIGNvcyh2KSAtIEBzICogZHkgKiBzaW4odilcblx0XHRAeSArPSBAcyAqIGR5ICogY29zKHYpICsgQHMgKiBkeCAqIHNpbih2KVxuXHRcdHRyYW5zbGF0ZSBkeCxkeVxuXHRkdW1wIDogKHR4dCkgLT5cblx0XHRwcmludCB0eHQsIEB4LEB5XG5cblx0cHJvY2VzcyA6IC0+XG5cdFx0QG1vZGUgPSAxIC0gQG1vZGVcblx0XHRpZiBAbW9kZSA9PSAwXG5cdFx0XHRhdXRvbGV2ZWwoKVxuXHRcdFx0QGNyZWF0ZVByb2JsZW0oKVxuXG5cdHJlc3VsdCA6IC0+XG5cdFx0ZmlsbCAxMjdcblx0XHRyZWN0IDAsMCx3aWR0aCxoZWlnaHRcblxuXHRcdGlmIEBwbGF5ZXJzWzBdLnN0b3BwID09IDBcblx0XHRcdEBwbGF5ZXJzWzBdLmNvbG9yID0gY29sb3IgMTI3XG5cdFx0ZWxzZSBpZiBAcGxheWVyc1swXS5zY29yZSgpIDwgQHBsYXllcnNbMV0uc2NvcmUoKSBvciBAcGxheWVyc1sxXS5zdG9wcCA9PSAwICBcblx0XHRcdEBwbGF5ZXJzWzBdLmNvbG9yID0gY29sb3IgMCwyNTUsMFxuXHRcdGVsc2Vcblx0XHRcdEBwbGF5ZXJzWzBdLmNvbG9yID0gY29sb3IgMjU1LDAsMFxuXG5cdFx0aWYgQHBsYXllcnNbMV0uc3RvcHAgPT0gMFxuXHRcdFx0QHBsYXllcnNbMV0uY29sb3IgPSBjb2xvciAxMjdcblx0XHRlbHNlIGlmIEBwbGF5ZXJzWzFdLnNjb3JlKCkgPCBAcGxheWVyc1swXS5zY29yZSgpIG9yIEBwbGF5ZXJzWzBdLnN0b3BwID09IDAgIFxuXHRcdFx0QHBsYXllcnNbMV0uY29sb3IgPSBjb2xvciAwLDI1NSwwXG5cdFx0ZWxzZVxuXHRcdFx0QHBsYXllcnNbMV0uY29sb3IgPSBjb2xvciAyNTUsMCwwXG5cblx0XHRmb3IgcGxheWVyIGluIEBwbGF5ZXJzXG5cdFx0XHRwbGF5ZXIucmVzdWx0KClcblxuXHRcdEBzb2x2ZV9yZXN1bHQoKVx0XG5cblx0c29sdmVfcmVzdWx0IDogLT5cblx0XHRmaWxsIDBcblx0XHRuID0gMjAgXG5cdFx0SCA9IGhlaWdodCAvIG5cblx0XHR0ZXh0U2l6ZSBIXG5cblx0XHRmb3IgbnVtYmVyLGkgaW4gQHNvbHV0aW9uXG5cdFx0XHR4ID0gaW50IGkgLyBuXG5cdFx0XHR5ID0gaW50IGkgJSBuXG5cdFx0XHR0ZXh0IG51bWJlci50b1N0cmluZygpLCB4KjEwMCwgLTguNSpIICsgeSpIXHRcdFxuXG5cdGNyZWF0ZVByb2JsZW0gOiAtPlxuXHRcdHggPSBpbnQgcmFuZG9tIC01LDZcblx0XHR5ID0gaW50IHJhbmRvbSAtNSw2XG5cdFx0YSA9IG5ldyBDb21wbGV4IHgseVxuXHRcdGxzdCA9IFthXVxuXHRcdHRyZWUgPSB7fVxuXHRcdHRyZWVbYS50b1N0cmluZygpXSA9IG51bGwgXG5cdFx0bHN0MiA9IFtdXG5cblx0XHRjMSA9IG5ldyBDb21wbGV4IDAsMVxuXHRcdGMyID0gbmV3IENvbXBsZXggMiwwXG5cdFx0YzMgPSBuZXcgQ29tcGxleCAxLDBcblxuXHRcdHNhdmUgPSAoaXRlbTEsIGl0ZW0yKSAtPlxuXHRcdFx0aWYgaXRlbTIgbm90IG9mIHRyZWVcblx0XHRcdFx0bHN0Mi5wdXNoIGl0ZW0yXG5cdFx0XHRcdHRyZWVbaXRlbTJdID0gaXRlbTFcblxuXHRcdGZvciBqIGluIHJhbmdlIEBsZXZlbFxuXHRcdFx0bHN0MiA9IFtdXG5cdFx0XHRmb3IgaXRlbSBpbiBsc3Rcblx0XHRcdFx0c2F2ZSBpdGVtLCBpdGVtLm11bCBjMVxuXHRcdFx0XHRzYXZlIGl0ZW0sIGl0ZW0ubXVsIGMyXG5cdFx0XHRcdHNhdmUgaXRlbSwgaXRlbS5hZGQgYzNcblx0XHRcdGxzdCA9IGxzdDJcblx0XHRcdFxuXHRcdGIgPSBAc2VsZWN0VGFyZ2V0IGxzdFxuXHRcdEBzb2x1dGlvbiA9IEBwYXRoIGIsdHJlZVxuXG5cdFx0ZCA9IG5ldyBEYXRlKClcblx0XHRtcyA9IGludCBkLmdldFRpbWUoKVxuXHRcdGZvciBwbGF5ZXIgaW4gQHBsYXllcnNcblx0XHRcdHBsYXllci5oaXN0b3J5ID0gW2FdXG5cdFx0XHRwbGF5ZXIudGFyZ2V0ID0gYlxuXHRcdFx0cGxheWVyLmNvdW50ID0gMFxuXHRcdFx0cGxheWVyLnN0YXJ0ID0gbXMgXG5cdFx0XHRwbGF5ZXIuc3RvcHAgPSAwXG5cdFx0XHRwbGF5ZXIubGV2ZWwgPSBAbGV2ZWxcblxuXHRwYXRoIDogKGIsdHJlZSkgLT5cblx0XHRyZXR1cm4gW10gaWYgYiA9PSBudWxsXG5cdFx0QHBhdGgodHJlZVtiXSwgdHJlZSkuY29uY2F0KFtiXSlcblxuXHRzZWxlY3RUYXJnZXQgOiAobHN0KSAtPiAjIHdpdGhpbiAyMXgyMSB3aW5kb3csIGlmIHBvc3NpYmxlXG5cdFx0YnMgPSAoaXRlbSBmb3IgaXRlbSBpbiBsc3Qgd2hlbiAtMTAgPCBpdGVtLnggPD0gMTAgYW5kIC0xMCA8IGl0ZW0ueSA8PSAxMClcblx0XHRfLnNhbXBsZSBpZiBicy5sZW5ndGggPiAwIHRoZW4gYnMgZWxzZSBsc3Rcblxuc2V0dXAgPSAtPlxuXHRjcmVhdGVDYW52YXMgd2luZG93V2lkdGgsIHdpbmRvd0hlaWdodFxuXHRmcmFtZVJhdGUgMTVcblx0dGV4dEFsaWduIENFTlRFUixDRU5URVJcblx0cmVjdE1vZGUgQ0VOVEVSXG5cdHN0cm9rZUNhcCBTUVVBUkVcblx0bm9TbW9vdGgoKVxuXHRnID0gbmV3IEdhbWUoKVxuXHRnLmNyZWF0ZVByb2JsZW0oKVx0XHRcblx0eGRyYXcoKVxuXG54ZHJhdyA9IC0+XG5cdGcucHVzaCgpXG5cdGcudHJhbnNsYXRlIGludCh3aWR0aC8yKSwgaW50KGhlaWdodC8yKVx0IyBpbnRlZ2VycyBuZWVkZWQgaGVyZSBvciBibHVycnkgZ3JpZCBsaW5lc1xuXG5cdGZvciBwbGF5ZXIsaSBpbiBnLnBsYXllcnNcblx0XHRnLnB1c2goKVxuXHRcdGcudHJhbnNsYXRlICgyKmktMSkgKiB3aWR0aC80LCAwXG5cdFx0cGxheWVyLmRyYXcoKVxuXHRcdGcucG9wKClcbiAgZy5yZXN1bHQoKSBpZiBnLm1vZGU9PTFcblx0Zy5kaXNwbGF5LmRyYXcoKVx0XG5cdGcucG9wKClcblxudG91Y2hTdGFydGVkID0gLT4gXG5cdGZvciB0b3VjaCBpbiB0b3VjaGVzXG5cdFx0aWYgdG91Y2guaWQgbm90IG9mIGlkcyBcblx0XHRcdGlkc1t0b3VjaC5pZF0gPSB0b3VjaFxuXHRcdFx0Zm9yIHBsYXllciBpbiBnLnBsYXllcnNcblx0XHRcdFx0cGxheWVyLnRvdWNoU3RhcnRlZCh0b3VjaC54LHRvdWNoLnkpXG5cdGlkcyA9IHt9IGlmIHRvdWNoLmxlbmd0aCA9PSAwXG5cdGcuZGlzcGxheS50b3VjaFN0YXJ0ZWQodG91Y2gueCx0b3VjaC55KVxuXHR4ZHJhdygpXG5cbm1vdXNlUHJlc3NlZCA9IC0+XG5cdHBsYXllci5tb3VzZVByZXNzZWQoKSBmb3IgcGxheWVyIGluIGcucGxheWVyc1xuXHRnLmRpc3BsYXkubW91c2VQcmVzc2VkKClcblx0eGRyYXcoKVxuXG5rZXlQcmVzc2VkID0gLT5cblx0cGxheWVyLmtleVByZXNzZWQoa2V5KSBmb3IgcGxheWVyIGluIGcucGxheWVyc1xuXHRpZiBrZXkgPT0gJyAnIFxuXHRcdGF1dG9sZXZlbCgpXG5cdFx0Zy5jcmVhdGVQcm9ibGVtKClcblx0eGRyYXcoKVxuXG5hdXRvbGV2ZWwgPSAtPlxuXHRmaW5pc2hlZCA9IDBcblx0cGVyZmVjdCA9IDBcblx0Zm9yIHBsYXllciBpbiBnLnBsYXllcnNcblx0XHRpZiBwbGF5ZXIuZmluaXNoZWQoKVxuXHRcdFx0ZmluaXNoZWQrK1xuXHRcdGlmIHBsYXllci5wZXJmZWN0IGcubGV2ZWxcblx0XHRcdHBlcmZlY3QrK1x0XG5cdGlmIHBlcmZlY3QgPiAwXG5cdFx0Zy5sZXZlbCsrXG5cdGVsc2UgXG5cdFx0Zy5sZXZlbC0tXG5cdGlmIGcubGV2ZWwgPT0gMFxuXHRcdGcubGV2ZWwgPSAxXG4iXX0=
//# sourceURL=C:\github\p5Complex\www\sketch.coffee