// Generated by CoffeeScript 1.11.1
var Player;

Player = (function() {
  var digits;

  function Player(keys, x, y, w, h) {
    this.w = w;
    this.h = h;
    this.M = 120;
    this.N = 60;
    this.keys = keys;
    this.history = [3];
    this.target = 2;
    this.count = 0;
    this.level = 0;
    this.buttons = [];
    this.buttons.push(new Button(0, 0.5, 0, this, -10.5, 0, 7.5, 15, "", "1+i"));
    this.buttons.push(new Button(1, 0, 0, this, 10.5, 0, 7.5, 15, "", "-2i"));
    this.buttons.push(new Button(0.25, 0.25, 0.25, this, 0, -21, 7.5, 15, keys[0], "undo"));
    this.buttons.push(new Button(1, 1, 0, this, -10.5, 21, 7.5, 15, keys[1], "*i"));
    this.buttons.push(new Button(1, 1, 0, this, 0.0, 21, 7.5, 15, keys[2], "*2"));
    this.buttons.push(new Button(1, 1, 0, this, 10.5, 21, 7.5, 15, keys[3], "+1"));
  }

  Player.prototype.draw = function() {
    var button, j, len, ref;
    if (this.keys === "WASD") {
      if (this.finished()) {
        fc(0, 1, 0);
      } else {
        fc(0.5);
      }
    } else {
      if (this.finished()) {
        fc(0, 1, 0);
      } else {
        fc(0.5);
      }
    }
    rect(0, 0, width * this.w / this.M, height * this.h / this.N);
    this.buttons[0].txt = this.top().toString();
    this.buttons[1].txt = this.target.toString();
    ref = this.buttons;
    for (j = 0, len = ref.length; j < len; j++) {
      button = ref[j];
      button.draw();
    }
    textSize(height / 20);
    fc(0.25);
    text(this.level - this.history.length + 1, -width * 0.17, height * 0.18);
    return this.complexBitmap();
  };

  Player.prototype.complexBitmap = function() {
    var i, j, len, n, ref, x, x1, x2, y, y1, y2;
    n = int(width / 90);
    fc(0);
    rect(0, 0, 20 * n, 20 * n);
    sc(1, 1, 0);
    sw(1);
    ref = range(21);
    for (j = 0, len = ref.length; j < len; j++) {
      i = ref[j];
      x1 = -10 * n;
      y = lerp(-10 * n, -9 * n, i);
      x2 = 10 * n;
      line(x1, y, x2, y);
      x = lerp(-10 * n, -9 * n, i);
      y1 = -10 * n;
      y2 = 10 * n;
      line(x, y1, x, y2);
    }
    sw(3);
    line(0, y1, 0, y2);
    line(x1, 0, x2, 0);
    if (!this.finished()) {
      this.complexPoint(n, 1, 1, 0, this.top().mul(new Complex(0, 1)));
      this.complexPoint(n, 1, 1, 0, this.top().mul(new Complex(2, 0)));
      this.complexPoint(n, 1, 1, 0, this.top().add(new Complex(1, 0)));
    }
    this.complexPoint(n, 1, 0, 0, this.target);
    return this.complexPoint(n, 0, 1, 0, this.top());
  };

  Player.prototype.complexPoint = function(n, r, g, b, c) {
    if (abs(c.x) <= 10 && abs(c.y) <= 10) {
      fc(r, g, b, 0.75);
      sc();
      return circle(n * c.x, -n * c.y, n / 2);
    }
  };

  Player.prototype.process = function(key) {
    if (this.finished()) {
      return;
    }
    if (key === this.keys[0] && this.history.length > 1) {
      this.history.pop();
    }
    if (key === this.keys[1]) {
      this.save(this.top().mul(new Complex(0, 1)));
    }
    if (key === this.keys[2]) {
      this.save(this.top().mul(new Complex(2, 0)));
    }
    if (key === this.keys[3]) {
      return this.save(this.top().add(new Complex(1, 0)));
    }
  };

  Player.prototype.save = function(value) {
    var d, ms;
    this.count++;
    this.history.push(value);
    if (this.finished()) {
      d = new Date();
      ms = d.getTime();
      return this.stopp = int(ms);
    }
  };

  Player.prototype.mousePressed = function() {
    var button, j, len, ref, results;
    ref = this.buttons;
    results = [];
    for (j = 0, len = ref.length; j < len; j++) {
      button = ref[j];
      results.push(button.mousePressed());
    }
    return results;
  };

  Player.prototype.touchStarted = function(x, y) {
    var button, j, len, ref, results;
    ref = this.buttons;
    results = [];
    for (j = 0, len = ref.length; j < len; j++) {
      button = ref[j];
      results.push(button.touchStarted(x, y));
    }
    return results;
  };

  Player.prototype.keyPressed = function(key) {
    var button, j, len, ref, results;
    ref = this.buttons;
    results = [];
    for (j = 0, len = ref.length; j < len; j++) {
      button = ref[j];
      results.push(button.keyPressed(key));
    }
    return results;
  };

  Player.prototype.score = function() {
    return (this.stopp - this.start) / 1000 + this.count * 10;
  };

  Player.prototype.top = function() {
    return this.history[this.history.length - 1];
  };

  Player.prototype.finished = function() {
    return this.top().toString() === this.target.toString();
  };

  Player.prototype.perfect = function(level) {
    return this.finished() && this.count <= level;
  };

  digits = function(x) {
    if (x < 100) {
      return x.toFixed(3);
    }
    if (x < 1000) {
      return x.toFixed(2);
    }
    if (x < 10000) {
      return x.toFixed(1);
    }
    return x.toFixed(0);
  };

  Player.prototype.result = function() {
    var H, dx, i, j, len, n, number, ref, results, x, x0, y;
    n = 20;
    if (this.stopp === 0) {
      return;
    }
    fill(this.color);
    H = height / n;
    textSize(H);
    if (this.keys === "WASD") {
      x0 = -width / 8;
      dx = -width / 8;
    } else {
      x0 = width / 8;
      dx = width / 8;
    }
    text(digits(this.score()), x0, -9.5 * H);
    ref = this.history;
    results = [];
    for (i = j = 0, len = ref.length; j < len; i = ++j) {
      number = ref[i];
      x = int(i / (n - 1));
      y = int(i % (n - 1));
      results.push(text(number, x0 + x * dx, -8.5 * H + y * H));
    }
    return results;
  };

  return Player;

})();

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUGxheWVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiUGxheWVyLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsSUFBQTs7QUFBTTtBQUVMLE1BQUE7O0VBQWEsZ0JBQUMsSUFBRCxFQUFNLENBQU4sRUFBUSxDQUFSLEVBQVUsQ0FBVixFQUFhLENBQWI7SUFBVSxJQUFDLENBQUEsSUFBRDtJQUFHLElBQUMsQ0FBQSxJQUFEO0lBQ3pCLElBQUMsQ0FBQSxDQUFELEdBQUs7SUFDTCxJQUFDLENBQUEsQ0FBRCxHQUFLO0lBQ0wsSUFBQyxDQUFBLElBQUQsR0FBUTtJQUNSLElBQUMsQ0FBQSxPQUFELEdBQVcsQ0FBQyxDQUFEO0lBQ1gsSUFBQyxDQUFBLE1BQUQsR0FBVTtJQUNWLElBQUMsQ0FBQSxLQUFELEdBQVM7SUFDVCxJQUFDLENBQUEsS0FBRCxHQUFTO0lBRVQsSUFBQyxDQUFBLE9BQUQsR0FBVztJQUNYLElBQUMsQ0FBQSxPQUFPLENBQUMsSUFBVCxDQUFrQixJQUFBLE1BQUEsQ0FBTyxDQUFQLEVBQVMsR0FBVCxFQUFhLENBQWIsRUFBZ0IsSUFBaEIsRUFBa0IsQ0FBQyxJQUFuQixFQUEwQixDQUExQixFQUE2QixHQUE3QixFQUFrQyxFQUFsQyxFQUFzQyxFQUF0QyxFQUF5QyxLQUF6QyxDQUFsQjtJQUNBLElBQUMsQ0FBQSxPQUFPLENBQUMsSUFBVCxDQUFrQixJQUFBLE1BQUEsQ0FBTyxDQUFQLEVBQVMsQ0FBVCxFQUFXLENBQVgsRUFBYyxJQUFkLEVBQWlCLElBQWpCLEVBQXdCLENBQXhCLEVBQTJCLEdBQTNCLEVBQWdDLEVBQWhDLEVBQW9DLEVBQXBDLEVBQXVDLEtBQXZDLENBQWxCO0lBQ0EsSUFBQyxDQUFBLE9BQU8sQ0FBQyxJQUFULENBQWtCLElBQUEsTUFBQSxDQUFPLElBQVAsRUFBWSxJQUFaLEVBQWlCLElBQWpCLEVBQXVCLElBQXZCLEVBQTJCLENBQTNCLEVBQThCLENBQUMsRUFBL0IsRUFBbUMsR0FBbkMs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QUFBLElBQUQsS0FBTyxNQUFWO01BQ0MsRUFBQSxHQUFLLENBQUMsS0FBRCxHQUFPO01BQ1osRUFBQSxHQUFLLENBQUMsS0FBRCxHQUFPLEVBRmI7S0FBQSxNQUFBO01BSUMsRUFBQSxHQUFLLEtBQUEsR0FBTTtNQUNYLEVBQUEsR0FBSyxLQUFBLEdBQU0sRUFMWjs7SUFNQSxJQUFBLENBQUssTUFBQSxDQUFPLElBQUMsQ0FBQSxLQUFELENBQUEsQ0FBUCxDQUFMLEVBQXVCLEVBQXZCLEVBQTJCLENBQUMsR0FBRCxHQUFLLENBQWhDO0FBQ0E7QUFBQTtTQUFBLDZDQUFBOztNQUNDLENBQUEsR0FBSSxHQUFBLENBQUksQ0FBQSxHQUFJLENBQUMsQ0FBQSxHQUFFLENBQUgsQ0FBUjtNQUNKLENBQUEsR0FBSSxHQUFBLENBQUksQ0FBQSxHQUFJLENBQUMsQ0FBQSxHQUFFLENBQUgsQ0FBUjttQkFDSixJQUFBLENBQUssTUFBTCxFQUFhLEVBQUEsR0FBRyxDQUFBLEdBQUUsRUFBbEIsRUFBc0IsQ0FBQyxHQUFELEdBQUssQ0FBTCxHQUFTLENBQUEsR0FBRSxDQUFqQztBQUhEOztFQWRPIiwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgUGxheWVyXG5cblx0Y29uc3RydWN0b3I6IChrZXlzLHgseSxAdyxAaCkgLT4gICMgc2l4dGllc1xuXHRcdEBNID0gMTIwXG5cdFx0QE4gPSA2MFxuXHRcdEBrZXlzID0ga2V5c1xuXHRcdEBoaXN0b3J5ID0gWzNdXG5cdFx0QHRhcmdldCA9IDJcblx0XHRAY291bnQgPSAwXG5cdFx0QGxldmVsID0gMFxuXG5cdFx0QGJ1dHRvbnMgPSBbXSAgICAgICAgICAgICAgIyB4ICAgeSAgIHcgICBoIChyZWxhdGl2dCBjZW50cnVtKVxuXHRcdEBidXR0b25zLnB1c2ggbmV3IEJ1dHRvbiAwLDAuNSwwLCBALC0xMC41LCAgMCwgNy41LCAxNSwgXCJcIixcIjEraVwiXG5cdFx0QGJ1dHRvbnMucHVzaCBuZXcgQnV0dG9uIDEsMCwwLCBALCAxMC41LCAgMCwgNy41LCAxNSwgXCJcIixcIi0yaVwiXG5cdFx0QGJ1dHRvbnMucHVzaCBuZXcgQnV0dG9uIDAuMjUsMC4yNSwwLjI1LCBALCAgMCwgLTIxLCA3LjUsIDE1LCBrZXlzWzBdLFwidW5kb1wiXG5cdFx0QGJ1dHRvbnMucHVzaCBuZXcgQnV0dG9uIDEsMSwwLCBALC0xMC41LCAyMSwgNy41LCAxNSwga2V5c1sxXSxcIippXCJcblx0XHRAYnV0dG9ucy5wdXNoIG5ldyBCdXR0b24gMSwxLDAsIEAsICAwLjAsIDIxLCA3LjUsIDE1LCBrZXlzWzJdLFwiKjJcIlxuXHRcdEBidXR0b25zLnB1c2ggbmV3IEJ1dHRvbiAxLDEsMCwgQCwgMTAuNSwgMjEsIDcuNSwgMTUsIGtleXNbM10sXCIrMVwiXG5cblx0ZHJhdyA6IC0+XG5cdFx0aWYgQGtleXMgPT0gXCJXQVNEXCJcblx0XHRcdGlmIEBmaW5pc2hlZCgpXG5cdFx0XHRcdGZjIDAsMSwwXG5cdFx0XHRlbHNlXG5cdFx0XHRcdGZjIDAuNVxuXHRcdGVsc2Vcblx0XHRcdGlmIEBmaW5pc2hlZCgpXG5cdFx0XHRcdGZjIDAsMSwwXG5cdFx0XHRlbHNlXG5cdFx0XHRcdGZjIDAuNVxuXG5cdFx0cmVjdCAwLDAsIHdpZHRoICogQHcgLyBATSwgaGVpZ2h0ICogQGggLyBATiBcblx0XHRAYnV0dG9uc1swXS50eHQgPSBAdG9wKCkudG9TdHJpbmcoKVxuXHRcdEBidXR0b25zWzFdLnR4dCA9IEB0YXJnZXQudG9TdHJpbmcoKVxuXHRcdGZvciBidXR0b24gaW4gQGJ1dHRvbnNcblx0XHRcdGJ1dHRvbi5kcmF3KClcblx0XHR0ZXh0U2l6ZSBoZWlnaHQvMjBcblx0XHRmYyAwLjI1XG5cdFx0dGV4dCBAbGV2ZWwgLSBAaGlzdG9yeS5sZW5ndGggKyAxLCAtd2lkdGgqMC4xNywgaGVpZ2h0ICogMC4xOFxuXG5cdFx0QGNvbXBsZXhCaXRtYXAoKVxuXG5cdGNvbXBsZXhCaXRtYXAgOiAtPlxuXHRcdG4gPSBpbnQgd2lkdGgvOTAgIyBwaXhlbHMgcGVyIHVuaXRcblxuXHRcdGZjIDBcblx0XHRyZWN0IDAsMCwyMCpuLDIwKm5cblx0XHRzYyAxLDEsMFxuXHRcdHN3IDFcblx0XHRmb3IgaSBpbiByYW5nZSAyMVxuXG5cdFx0XHQjIGhvciBMaW5lc1xuXHRcdFx0eDEgPSAtMTAqblxuXHRcdFx0eSA9IGxlcnAgLTEwKm4sIC05Km4sIGlcblx0XHRcdHgyID0gMTAqblxuXHRcdFx0bGluZSB4MSx5LHgyLHlcblxuXHRcdFx0IyB2ZXIgbGluZXNcblx0XHRcdHggPSBsZXJwIC0xMCpuLCAtOSpuLCBpXG5cdFx0XHR5MSA9IC0xMCpuXG5cdFx0XHR5MiA9IDEwKm5cblx0XHRcdGxpbmUgeCx5MSx4LHkyIFxuXG5cdFx0c3cgM1xuXHRcdGxpbmUgMCx5MSwwLHkyXG5cdFx0bGluZSB4MSwwLHgyLDAgXG5cblx0XHRpZiAhIEBmaW5pc2hlZCgpXG5cdFx0XHRAY29tcGxleFBvaW50IG4sMSwxLDAsIEB0b3AoKS5tdWwgbmV3IENvbXBsZXggMCwxXG5cdFx0XHRAY29tcGxleFBvaW50IG4sMSwxLDAsIEB0b3AoKS5tdWwgbmV3IENvbXBsZXggMiwwXG5cdFx0XHRAY29tcGxleFBvaW50IG4sMSwxLDAsIEB0b3AoKS5hZGQgbmV3IENvbXBsZXggMSwwXG5cdFx0QGNvbXBsZXhQb2ludCBuLDEsMCwwLCBAdGFyZ2V0XG5cdFx0QGNvbXBsZXhQb2ludCBuLDAsMSwwLCBAdG9wKClcblxuXHRjb21wbGV4UG9pbnQgOiAobixyLGcsYixjKS0+XG5cdFx0aWYgYWJzKGMueCkgPD0gMTAgYW5kIGFicyhjLnkpIDw9IDEwIFxuXHRcdFx0ZmMgcixnLGIsMC43NVxuXHRcdFx0c2MoKVxuXHRcdFx0Y2lyY2xlIG4qYy54LC1uKmMueSxuLzJcblxuXHRwcm9jZXNzIDogKGtleSkgLT5cblx0XHRpZiBAZmluaXNoZWQoKVxuXHRcdFx0cmV0dXJuXG5cdFx0QGhpc3RvcnkucG9wKCkgaWYga2V5PT1Aa2V5c1swXSBhbmQgQGhpc3RvcnkubGVuZ3RoPjFcblx0XHRAc2F2ZShAdG9wKCkubXVsKG5ldyBDb21wbGV4KDAsMSkpKSBpZiBrZXk9PUBrZXlzWzFdXG5cdFx0QHNhdmUoQHRvcCgpLm11bChuZXcgQ29tcGxleCgyLDApKSkgaWYga2V5PT1Aa2V5c1syXVxuXHRcdEBzYXZlKEB0b3AoKS5hZGQobmV3IENvbXBsZXgoMSwwKSkpIGlmIGtleT09QGtleXNbM10gXG5cblx0c2F2ZSA6ICh2YWx1ZSkgLT5cblx0XHRAY291bnQrK1xuXHRcdEBoaXN0b3J5LnB1c2ggdmFsdWVcblx0XHRpZiBAZmluaXNoZWQoKVxuXHRcdFx0ZCA9IG5ldyBEYXRlKClcblx0XHRcdG1zID0gZC5nZXRUaW1lKClcblx0XHRcdEBzdG9wcCA9IGludCBtcyBcblxuXHRtb3VzZVByZXNzZWQgOiAtPiBidXR0b24ubW91c2VQcmVzc2VkKCkgZm9yIGJ1dHRvbiBpbiBAYnV0dG9ucyBcblx0dG91Y2hTdGFydGVkIDogKHgseSkgLT4gYnV0dG9uLnRvdWNoU3RhcnRlZCh4LHkpIGZvciBidXR0b24gaW4gQGJ1dHRvbnMgXG5cdGtleVByZXNzZWQgOiAoa2V5KSAtPiBidXR0b24ua2V5UHJlc3NlZChrZXkpIGZvciBidXR0b24gaW4gQGJ1dHRvbnNcblxuXHRzY29yZSA6IC0+IChAc3RvcHAgLSBAc3RhcnQpLzEwMDAgKyBAY291bnQgKiAxMCBcblx0dG9wIDogLT4gQGhpc3RvcnlbQGhpc3RvcnkubGVuZ3RoLTFdXG5cdGZpbmlzaGVkIDogLT4gQHRvcCgpLnRvU3RyaW5nKCkgPT0gQHRhcmdldC50b1N0cmluZygpXHRcdFxuXHRwZXJmZWN0IDogKGxldmVsKSAtPiBAZmluaXNoZWQoKSBhbmQgQGNvdW50IDw9IGxldmVsXG5cblx0ZGlnaXRzID0gKHgpIC0+XG5cdFx0cmV0dXJuIHgudG9GaXhlZCgzKSBpZiB4PDEwMFxuXHRcdHJldHVybiB4LnRvRml4ZWQoMikgaWYgeDwxMDAwXG5cdFx0cmV0dXJuIHgudG9GaXhlZCgxKSBpZiB4PDEwMDAwXG5cdFx0cmV0dXJuIHgudG9GaXhlZCgwKVxuXG5cdHJlc3VsdCA6KCkgLT5cblx0XHRuID0gMjBcblx0XHRpZiBAc3RvcHAgPT0gMFxuXHRcdFx0cmV0dXJuXG5cdFx0ZmlsbCBAY29sb3Jcblx0XHRIID0gaGVpZ2h0IC8gblxuXHRcdHRleHRTaXplIEhcblx0XHRpZiBAa2V5cz09XCJXQVNEXCIgIyBsZWZ0XG5cdFx0XHR4MCA9IC13aWR0aC84XG5cdFx0XHRkeCA9IC13aWR0aC84XG5cdFx0ZWxzZVxuXHRcdFx0eDAgPSB3aWR0aC84XG5cdFx0XHRkeCA9IHdpZHRoLzhcblx0XHR0ZXh0IGRpZ2l0cyhAc2NvcmUoKSksIHgwLCAtOS41KkggXG5cdFx0Zm9yIG51bWJlcixpIGluIEBoaXN0b3J5XG5cdFx0XHR4ID0gaW50IGkgLyAobi0xKVxuXHRcdFx0eSA9IGludCBpICUgKG4tMSlcblx0XHRcdHRleHQgbnVtYmVyLCB4MCt4KmR4LCAtOC41KkggKyB5KkhcbiJdfQ==
//# sourceURL=C:\github\p5Complex\www\Player.coffee